<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head><body>
<span style="position:absolute; border: gray 1px solid; left:0px; top:50px; width:612px; height:792px;"></span>
<div style="position:absolute; top:50px;"><a name="1">Page 1</a></div>
<span style="position:absolute; border: black 1px solid; left:9px; top:180px; width:594px; height:653px;"></span>
<span style="font-family: Lato-Light; font-size:30px">System Management and MonitoringUser Guide<span style="position:absolute; border: black 1px solid; left:35px; top:657px; width:95px; height:95px;"></span>
</span><span style="font-family: Lato-Regular; font-size:10px">Published</span><span style="font-family: Lato-Regular; font-size:12px">2024-12-18<span style="position:absolute; border: black 1px solid; left:558px; top:789px; width:5px; height:6px;"></span>
<span style="position:absolute; border: black 1px solid; left:558px; top:789px; width:4px; height:5px;"></span>
<span style="position:absolute; border: black 1px solid; left:564px; top:789px; width:4px; height:6px;"></span>
<span style="position:absolute; border: black 1px solid; left:543px; top:789px; width:2px; height:7px;"></span>
<span style="position:absolute; border: black 1px solid; left:546px; top:789px; width:4px; height:6px;"></span>
<span style="position:absolute; border: black 1px solid; left:552px; top:789px; width:4px; height:6px;"></span>
<span style="position:absolute; border: black 1px solid; left:568px; top:788px; width:0px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:568px; top:788px; width:0px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:568px; top:788px; width:0px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:568px; top:788px; width:0px; height:0px;"></span>
<div style="position:absolute; border: figure 1px solid; writing-mode:False; left:553px; top:782px; width:22px; height:11px;"><span style="position:absolute; border: black 1px solid; left:554px; top:782px; width:7px; height:5px;"></span>
</div><div style="position:absolute; border: figure 1px solid; writing-mode:False; left:538px; top:777px; width:20px; height:12px;"><span style="position:absolute; border: black 1px solid; left:556px; top:780px; width:3px; height:8px;"></span>
</div><div style="position:absolute; border: figure 1px solid; writing-mode:False; left:538px; top:777px; width:23px; height:11px;"><span style="position:absolute; border: black 1px solid; left:554px; top:782px; width:7px; height:5px;"></span>
</div><div style="position:absolute; border: figure 1px solid; writing-mode:False; left:538px; top:777px; width:23px; height:9px;"><span style="position:absolute; border: black 1px solid; left:554px; top:781px; width:7px; height:5px;"></span>
</div><div style="position:absolute; border: figure 1px solid; writing-mode:False; left:538px; top:777px; width:20px; height:11px;"><span style="position:absolute; border: black 1px solid; left:556px; top:780px; width:3px; height:8px;"></span>
</div><div style="position:absolute; border: figure 1px solid; writing-mode:False; left:538px; top:777px; width:22px; height:9px;"><span style="position:absolute; border: black 1px solid; left:554px; top:781px; width:7px; height:5px;"></span>
</div><div style="position:absolute; border: figure 1px solid; writing-mode:False; left:538px; top:777px; width:20px; height:11px;"><span style="position:absolute; border: black 1px solid; left:556px; top:780px; width:3px; height:8px;"></span>
</div><span style="position:absolute; border: black 1px solid; left:124px; top:102px; width:4px; height:6px;"></span>
<span style="position:absolute; border: black 1px solid; left:130px; top:103px; width:4px; height:5px;"></span>
<span style="position:absolute; border: black 1px solid; left:137px; top:104px; width:2px; height:1px;"></span>
<span style="position:absolute; border: black 1px solid; left:136px; top:108px; width:2px; height:1px;"></span>
<span style="position:absolute; border: black 1px solid; left:135px; top:103px; width:5px; height:7px;"></span>
<span style="position:absolute; border: black 1px solid; left:141px; top:103px; width:1px; height:5px;"></span>
<span style="position:absolute; border: black 1px solid; left:141px; top:102px; width:1px; height:1px;"></span>
<span style="position:absolute; border: black 1px solid; left:144px; top:103px; width:4px; height:5px;"></span>
<span style="position:absolute; border: black 1px solid; left:150px; top:104px; width:2px; height:1px;"></span>
<span style="position:absolute; border: black 1px solid; left:149px; top:103px; width:4px; height:5px;"></span>
<span style="position:absolute; border: black 1px solid; left:156px; top:104px; width:2px; height:1px;"></span>
<span style="position:absolute; border: black 1px solid; left:155px; top:103px; width:4px; height:5px;"></span>
<span style="position:absolute; border: black 1px solid; left:160px; top:103px; width:2px; height:5px;"></span>
<span style="position:absolute; border: black 1px solid; left:164px; top:103px; width:1px; height:5px;"></span>
<span style="position:absolute; border: black 1px solid; left:164px; top:102px; width:1px; height:1px;"></span>
<span style="position:absolute; border: black 1px solid; left:166px; top:103px; width:4px; height:5px;"></span>
<span style="position:absolute; border: black 1px solid; left:173px; top:104px; width:2px; height:1px;"></span>
<span style="position:absolute; border: black 1px solid; left:172px; top:108px; width:2px; height:1px;"></span>
<span style="position:absolute; border: black 1px solid; left:171px; top:103px; width:5px; height:7px;"></span>
<span style="position:absolute; border: black 1px solid; left:124px; top:112px; width:5px; height:6px;"></span>
<span style="position:absolute; border: black 1px solid; left:130px; top:114px; width:0px; height:4px;"></span>
<span style="position:absolute; border: black 1px solid; left:130px; top:112px; width:0px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:132px; top:114px; width:7px; height:5px;"></span>
<span style="position:absolute; border: black 1px solid; left:142px; top:115px; width:3px; height:3px;"></span>
<span style="position:absolute; border: black 1px solid; left:141px; top:114px; width:4px; height:6px;"></span>
<span style="position:absolute; border: black 1px solid; left:147px; top:112px; width:1px; height:6px;"></span>
<span style="position:absolute; border: black 1px solid; left:150px; top:114px; width:0px; height:4px;"></span>
<span style="position:absolute; border: black 1px solid; left:150px; top:112px; width:0px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:152px; top:114px; width:4px; height:5px;"></span>
<span style="position:absolute; border: black 1px solid; left:157px; top:114px; width:0px; height:4px;"></span>
<span style="position:absolute; border: black 1px solid; left:157px; top:112px; width:0px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:159px; top:112px; width:2px; height:6px;"></span>
<span style="position:absolute; border: black 1px solid; left:162px; top:114px; width:4px; height:6px;"></span>
<span style="position:absolute; border: black 1px solid; left:67px; top:117px; width:3px; height:3px;"></span>
<span style="position:absolute; border: black 1px solid; left:71px; top:117px; width:2px; height:3px;"></span>
<span style="position:absolute; border: black 1px solid; left:75px; top:117px; width:3px; height:3px;"></span>
<span style="position:absolute; border: black 1px solid; left:78px; top:117px; width:5px; height:3px;"></span>
<span style="position:absolute; border: black 1px solid; left:84px; top:117px; width:2px; height:3px;"></span>
<span style="position:absolute; border: black 1px solid; left:84px; top:117px; width:3px; height:3px;"></span>
<span style="position:absolute; border: black 1px solid; left:89px; top:117px; width:2px; height:1px;"></span>
<span style="position:absolute; border: black 1px solid; left:88px; top:117px; width:2px; height:3px;"></span>
<span style="position:absolute; border: black 1px solid; left:92px; top:117px; width:2px; height:3px;"></span>
<span style="position:absolute; border: black 1px solid; left:95px; top:117px; width:3px; height:3px;"></span>
<span style="position:absolute; border: black 1px solid; left:97px; top:101px; width:6px; height:13px;"></span>
<span style="position:absolute; border: black 1px solid; left:41px; top:101px; width:11px; height:13px;"></span>
<span style="position:absolute; border: black 1px solid; left:54px; top:101px; width:11px; height:13px;"></span>
<span style="position:absolute; border: black 1px solid; left:67px; top:101px; width:1px; height:13px;"></span>
<span style="position:absolute; border: black 1px solid; left:72px; top:103px; width:8px; height:6px;"></span>
<span style="position:absolute; border: black 1px solid; left:71px; top:101px; width:10px; height:13px;"></span>
<span style="position:absolute; border: black 1px solid; left:85px; top:102px; width:9px; height:5px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:101px; width:11px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:32px; top:101px; width:6px; height:16px;"></span>
<span style="position:absolute; border: black 1px solid; left:100px; top:114px; width:1px; height:1px;"></span>
<span style="position:absolute; border: black 1px solid; left:100px; top:113px; width:1px; height:1px;"></span>
<span style="position:absolute; border: black 1px solid; left:101px; top:114px; width:0px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:101px; top:114px; width:0px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:113px; top:99px; width:1px; height:22px;"></span>
<span style="position:absolute; border: gray 1px solid; left:0px; top:892px; width:612px; height:792px;"></span>
<div style="position:absolute; top:892px;"><a name="2">Page 2</a></div>
</span><span style="font-family: Lato-Regular; font-size:9px">Juniper Networks, Inc.1133 Innovation WaySunnyvale, California 94089USA408-745-2000www.juniper.net<span style="position:absolute; border: black 1px solid; left:71px; top:964px; width:0px; height:84px;"></span>
Juniper Networks, the Juniper Networks logo, Juniper, and Junos are registered trademarks of Juniper Networks, Inc.in the United States and other countries. All other trademarks, service marks, registered marks, or registered servicemarks are the property of their respective owners.Juniper Networks assumes no responsibility for any inaccuracies in this document. Juniper Networks reserves the rightto change, modify, transfer, or otherwise revise this publication without notice. System Management and Monitoring User Guide</span><span style="font-family: Lato-Regular; font-size:8px">Copyright © 2024 Juniper Networks, Inc. All rights reserved.</span><span style="font-family: Lato-Regular; font-size:9px">The information in this document is current as of the date on the title page.</span><span style="font-family: Lato-Bold; font-size:10px">YEAR 2000 NOTICE</span><span style="font-family: Lato-Regular; font-size:9px">Juniper Networks hardware and software products are Year 2000 compliant. Junos OS has no known time-relatedlimitations through the year 2038. However, the NTP application is known to have some difficulty in the year 2036.</span><span style="font-family: Lato-Bold; font-size:10px">END USER LICENSE AGREEMENT</span><span style="font-family: Lato-Regular; font-size:9px">The Juniper Networks product that is the subject of this technical documentation consists of (or is intended for usewith) Juniper Networks software. Use of such software is subject to the terms and conditions of the End User LicenseAgreement (&quot;EULA&quot;) posted at https://support.juniper.net/support/eula/. By downloading, installing or using suchsoftware, you agree to the terms and conditions of that EULA.</span><span style="font-family: Lato-Bold; font-size:10px">ii<span style="position:absolute; border: gray 1px solid; left:0px; top:1734px; width:612px; height:792px;"></span>
<div style="position:absolute; top:1734px;"><a name="3">Page 3</a></div>
<span style="position:absolute; border: black 1px solid; left:-144px; top:1736px; width:900px; height:0px;"></span>
</span><span style="font-family: Lato-Regular; font-size:26px">Table of Contents</span><span style="font-family: Lato-Bold; font-size:10px">About This Guide  |  v<span style="position:absolute; border: black 1px solid; left:72px; top:1890px; width:28px; height:28px;"></span>
<span style="position:absolute; border: black 1px solid; left:72px; top:1890px; width:28px; height:28px;"></span>
</span><span style="font-family: Lato-Light; font-size:15px">1</span><span style="font-family: Lato-Bold; font-size:12px">Manage and Monitor</span><span style="font-family: Lato-Bold; font-size:10px">System Settings  |  2</span><span style="font-family: Lato-Regular; font-size:9px">Specify the Physical Location of the Switch</span><span style="font-family: Lato-Bold; font-size:9px">  |  2<span style="position:absolute; border: black 1px solid; left:153px; top:1942px; width:0px; height:14px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Modify the Default Time Zone on the Device</span><span style="font-family: Lato-Bold; font-size:9px">  |  3<span style="position:absolute; border: black 1px solid; left:153px; top:1956px; width:0px; height:25px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Extend the Default Port Address Range</span><span style="font-family: Lato-Bold; font-size:9px">  |  4<span style="position:absolute; border: black 1px solid; left:153px; top:1981px; width:0px; height:25px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Select a Fixed Source Address for Locally Generated TCP/IP Packets</span><span style="font-family: Lato-Bold; font-size:9px">  |  5<span style="position:absolute; border: black 1px solid; left:153px; top:2006px; width:0px; height:25px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Rebooting and Halting a Device</span><span style="font-family: Lato-Bold; font-size:9px">  |  5<span style="position:absolute; border: black 1px solid; left:153px; top:2031px; width:0px; height:25px;"></span>
</span><span style="font-family: Lato-Bold; font-size:10px">Hostnames  |  7</span><span style="font-family: Lato-Regular; font-size:9px">Configure the Hostname of a Device in a Configuration Group</span><span style="font-family: Lato-Bold; font-size:9px">  |  7<span style="position:absolute; border: black 1px solid; left:153px; top:2089px; width:0px; height:14px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Mapping the Hostname of the Switch to IP Addresses</span><span style="font-family: Lato-Bold; font-size:9px">  |  9<span style="position:absolute; border: black 1px solid; left:153px; top:2103px; width:0px; height:25px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Example: Configuring the Name of the Switch, IP Address, and System ID</span><span style="font-family: Lato-Bold; font-size:9px">  |  9<span style="position:absolute; border: black 1px solid; left:153px; top:2128px; width:0px; height:25px;"></span>
</span><span style="font-family: Lato-Bold; font-size:10px">Understanding and Configuring DNS  |  10</span><span style="font-family: Lato-Regular; font-size:9px">DNS Overview</span><span style="font-family: Lato-Bold; font-size:9px">  |  10<span style="position:absolute; border: black 1px solid; left:153px; top:2186px; width:0px; height:14px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Configure a DNS Name Server for Resolving Hostnames into Addresses</span><span style="font-family: Lato-Bold; font-size:9px">  |  11<span style="position:absolute; border: black 1px solid; left:153px; top:2200px; width:0px; height:25px;"></span>
</span><span style="font-family: Lato-Bold; font-size:10px">ICMP Features  |  15</span><span style="font-family: Lato-Regular; font-size:9px">Protocol Redirect Messages</span><span style="font-family: Lato-Bold; font-size:9px">  |  15</span><span style="font-family: Lato-Regular; font-size:9px">Pings</span><span style="font-family: Lato-Bold; font-size:9px">  |  17</span><span style="font-family: Lato-Regular; font-size:9px">Disable the Routing Engine Response to Multicast Ping Packets</span><span style="font-family: Lato-Bold; font-size:9px">  |  17<span style="position:absolute; border: black 1px solid; left:169px; top:2304px; width:0px; height:14px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Disable Reporting IP Address and Timestamps in Ping Responses</span><span style="font-family: Lato-Bold; font-size:9px">  |  17<span style="position:absolute; border: black 1px solid; left:169px; top:2318px; width:0px; height:18px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Source Quench Messages</span><span style="font-family: Lato-Bold; font-size:9px">  |  18</span><span style="font-family: Lato-Regular; font-size:9px">Time-to-Live (TTL) Expiration</span><span style="font-family: Lato-Bold; font-size:9px">  |  19</span><span style="font-family: Lato-Regular; font-size:9px">Rate Limit ICMP Traffic</span><span style="font-family: Lato-Bold; font-size:9px">  |  19</span><span style="font-family: Lato-Regular; font-size:9px">Rate Limit ICMP Error Messages</span><span style="font-family: Lato-Bold; font-size:9px">  |  20</span><span style="font-family: Lato-Bold; font-size:10px">iii<span style="position:absolute; border: gray 1px solid; left:0px; top:2576px; width:612px; height:792px;"></span>
<div style="position:absolute; top:2576px;"><a name="4">Page 4</a></div>
Alarms  |  22</span><span style="font-family: Lato-Regular; font-size:9px">System Alarms</span><span style="font-family: Lato-Bold; font-size:9px">  |  22<span style="position:absolute; border: black 1px solid; left:153px; top:2670px; width:0px; height:14px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Configuring Junos OS to Determine Conditions That Trigger Alarms on Different InterfaceTypes</span><span style="font-family: Lato-Bold; font-size:9px">  |  23<span style="position:absolute; border: black 1px solid; left:153px; top:2684px; width:0px; height:39px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">System-Wide Alarms and Alarms for Each Interface Type</span><span style="font-family: Lato-Bold; font-size:9px">  |  23<span style="position:absolute; border: black 1px solid; left:153px; top:2723px; width:0px; height:25px;"></span>
</span><span style="font-family: Lato-Bold; font-size:10px">System Troubleshooting  |  26</span><span style="font-family: Lato-Regular; font-size:9px">Saving Core Files Generated by Junos OS Processes</span><span style="font-family: Lato-Bold; font-size:9px">  |  26<span style="position:absolute; border: black 1px solid; left:153px; top:2781px; width:0px; height:14px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Viewing Core Files from Junos OS Processes</span><span style="font-family: Lato-Bold; font-size:9px">  |  27<span style="position:absolute; border: black 1px solid; left:153px; top:2795px; width:0px; height:25px;"></span>
</span><span style="font-family: Lato-Bold; font-size:10px">Device Monitoring  |  27</span><span style="font-family: Lato-Regular; font-size:8px">Monitoring System Properties</span><span style="font-family: Lato-Bold; font-size:8px">  |  28<span style="position:absolute; border: black 1px solid; left:153px; top:2853px; width:0px; height:14px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Monitoring System Process Information</span><span style="font-family: Lato-Bold; font-size:9px">  |  31<span style="position:absolute; border: black 1px solid; left:153px; top:2867px; width:0px; height:25px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Monitor Interfaces</span><span style="font-family: Lato-Bold; font-size:9px">  |  32<span style="position:absolute; border: black 1px solid; left:153px; top:2892px; width:0px; height:25px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Other Tools to Configure and Monitor Devices Running Junos OS</span><span style="font-family: Lato-Bold; font-size:9px">  |  34<span style="position:absolute; border: black 1px solid; left:153px; top:2917px; width:0px; height:25px;"></span>
</span><span style="font-family: Lato-Bold; font-size:10px">Passive Monitoring  |  35</span><span style="font-family: Lato-Regular; font-size:9px">Understanding Passive Monitoring</span><span style="font-family: Lato-Bold; font-size:9px">  |  35</span><span style="font-family: Lato-Regular; font-size:9px">Example: Configuring Passive Monitoring </span><span style="font-family: Lato-Bold; font-size:9px">  |  36</span><span style="font-family: Lato-Regular; font-size:9px">Requirements</span><span style="font-family: Lato-Bold; font-size:9px">  |  37<span style="position:absolute; border: black 1px solid; left:169px; top:3014px; width:0px; height:18px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Overview</span><span style="font-family: Lato-Bold; font-size:9px">  |  37<span style="position:absolute; border: black 1px solid; left:169px; top:3032px; width:0px; height:18px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Configuration</span><span style="font-family: Lato-Bold; font-size:9px">  |  38<span style="position:absolute; border: black 1px solid; left:169px; top:3050px; width:0px; height:18px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Verification</span><span style="font-family: Lato-Bold; font-size:9px">  |  40<span style="position:absolute; border: black 1px solid; left:169px; top:3068px; width:0px; height:18px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Sample Configuration for PTX10001-36MR, PTX10004, and PTX10008 Routers</span><span style="font-family: Lato-Bold; font-size:9px">  |  44<span style="position:absolute; border: black 1px solid; left:169px; top:3086px; width:0px; height:18px;"></span>
</span><span style="font-family: Lato-Bold; font-size:10px">How to Locate a Device or Port Using the Chassis Beacon  |  45</span><span style="font-family: Lato-Regular; font-size:9px">Turning On the Chassis Beacon For the Default Interval</span><span style="font-family: Lato-Bold; font-size:9px">  |  46<span style="position:absolute; border: black 1px solid; left:153px; top:3137px; width:0px; height:14px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Turning On the Chassis Beacon For a Specified Interval</span><span style="font-family: Lato-Bold; font-size:9px">  |  47<span style="position:absolute; border: black 1px solid; left:153px; top:3151px; width:0px; height:28px;"></span>
<span style="position:absolute; border: black 1px solid; left:72px; top:3179px; width:28px; height:28px;"></span>
<span style="position:absolute; border: black 1px solid; left:72px; top:3179px; width:28px; height:28px;"></span>
</span><span style="font-family: Lato-Light; font-size:15px">2</span><span style="font-family: Lato-Bold; font-size:12px">Configuration Statements and Operational Commands</span><span style="font-family: Lato-Bold; font-size:10px">Junos CLI Reference Overview  |  50iv<span style="position:absolute; border: gray 1px solid; left:0px; top:3418px; width:612px; height:792px;"></span>
<div style="position:absolute; top:3418px;"><a name="5">Page 5</a></div>
</span><span style="font-family: Lato-Bold; font-size:20px">About This Guide</span><span style="font-family: Lato-Regular; font-size:10px">Use this guide to manage and monitor Juniper switches with the Junos OS command line-interface.</span><span style="font-family: Lato-Bold; font-size:10px">v<span style="position:absolute; border: gray 1px solid; left:0px; top:4260px; width:612px; height:792px;"></span>
<div style="position:absolute; top:4260px;"><a name="6">Page 6</a></div>
</span><span style="font-family: Lato-Regular; font-size:110px">1</span><span style="font-family: Lato-Bold; font-size:10px">CHAPTER</span><span style="font-family: Lato-Light; font-size:22px">Manage and Monitor<span style="position:absolute; border: black 1px solid; left:125px; top:4576px; width:361px; height:0px;"></span>
</span><span style="font-family: Lato-Regular; font-size:10px">System Settings  |  2Hostnames  |  7Understanding and Configuring DNS  |  10ICMP Features  |  15Alarms  |  22System Troubleshooting  |  26Device Monitoring  |  27Passive Monitoring  |  35How to Locate a Device or Port Using the Chassis Beacon  |  45<span style="position:absolute; border: black 1px solid; left:125px; top:4813px; width:361px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:5px; top:4262px; width:601px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:609px; top:4260px; width:0px; height:768px;"></span>
<span style="position:absolute; border: black 1px solid; left:2px; top:4260px; width:0px; height:768px;"></span>
<span style="position:absolute; border: black 1px solid; left:609px; top:5028px; width:0px; height:23px;"></span>
<span style="position:absolute; border: black 1px solid; left:2px; top:5028px; width:0px; height:23px;"></span>
 <span style="position:absolute; border: black 1px solid; left:0px; top:5048px; width:612px; height:0px;"></span>
<span style="position:absolute; border: gray 1px solid; left:0px; top:5102px; width:612px; height:792px;"></span>
<div style="position:absolute; top:5102px;"><a name="7">Page 7</a></div>
</span><span style="font-family: Lato-Bold; font-size:20px">System Settings<span style="position:absolute; border: black 1px solid; left:72px; top:5228px; width:612px; height:196px;"></span>
<span style="position:absolute; border: black 1px solid; left:72px; top:5229px; width:234px; height:194px;"></span>
</span><span style="font-family: Lato-Bold; font-size:9px">SUMMARY</span><span style="font-family: Lato-Regular; font-size:9px">Configure the system settings on your device.</span><span style="font-family: Lato-Bold; font-size:9px">IN THIS SECTION<span style="position:absolute; border: black 1px solid; left:337px; top:5275px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Specify the Physical Location of theSwitch</span><span style="font-family: Lato-Bold; font-size:9px">  |  2<span style="position:absolute; border: black 1px solid; left:340px; top:5282px; width:0px; height:27px;"></span>
<span style="position:absolute; border: black 1px solid; left:337px; top:5307px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Modify the Default Time Zone on theDevice</span><span style="font-family: Lato-Bold; font-size:9px">  |  3<span style="position:absolute; border: black 1px solid; left:340px; top:5314px; width:0px; height:27px;"></span>
<span style="position:absolute; border: black 1px solid; left:337px; top:5339px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Extend the Default Port Address Range</span><span style="font-family: Lato-Bold; font-size:9px">  |  4<span style="position:absolute; border: black 1px solid; left:340px; top:5346px; width:0px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:337px; top:5358px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Select a Fixed Source Address for LocallyGenerated TCP/IP Packets</span><span style="font-family: Lato-Bold; font-size:9px">  |  5<span style="position:absolute; border: black 1px solid; left:340px; top:5365px; width:0px; height:27px;"></span>
<span style="position:absolute; border: black 1px solid; left:337px; top:5390px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Rebooting and Halting a Device</span><span style="font-family: Lato-Bold; font-size:9px">  |  5<span style="position:absolute; border: black 1px solid; left:72px; top:5228px; width:234px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:72px; top:5424px; width:234px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:305px; top:5228px; width:234px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:305px; top:5424px; width:234px; height:0px;"></span>
</span><span style="font-family: Lato-Bold; font-size:14px">Specify the Physical Location of the Switch<span style="position:absolute; border: black 1px solid; left:73px; top:5462px; width:0px; height:21px;"></span>
</span><span style="font-family: Lato-Regular; font-size:10px">To specify the physical location of the switch, specify the following options for the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">location</span><span style="font-family: Lato-Regular; font-size:10px"> statement atthe </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">[edit system]</span><span style="font-family: Lato-Regular; font-size:10px"> hierarchy level:•</span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">altitude feet</span><span style="font-family: Lato-Regular; font-size:10px">—Number of feet above sea level.•</span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">building name</span><span style="font-family: Lato-Regular; font-size:10px">—Name of the building, 1 to 28 characters in length. If the string contains spaces, encloseit in quotation marks (&quot; &quot;).•</span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">country-code code</span><span style="font-family: Lato-Regular; font-size:10px">—Two-letter country code.•</span><span style="font-family: InconsolataCondensed-Regular; font-size:9px">floor number</span><span style="font-family: Lato-Regular; font-size:10px">—Floor in the building.•</span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">hcoord horizontal-coordinate</span><span style="font-family: Lato-Regular; font-size:10px">—Bellcore Horizontal Coordinate.•</span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">lata service-area</span><span style="font-family: Lato-Regular; font-size:10px">—Long-distance service area.•</span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">latitude degrees</span><span style="font-family: Lato-Regular; font-size:10px">—Latitude in degree format.•</span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">longitude degrees</span><span style="font-family: Lato-Regular; font-size:10px">—Longitude in degree format.•</span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">npa-nxx number</span><span style="font-family: Lato-Regular; font-size:10px">—First six digits of the phone number (area code and exchange).•</span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">postal-code postal-code</span><span style="font-family: Lato-Regular; font-size:10px">—Postal code.</span><span style="font-family: Lato-Bold; font-size:10px">2<span style="position:absolute; border: gray 1px solid; left:0px; top:5944px; width:612px; height:792px;"></span>
<div style="position:absolute; top:5944px;"><a name="8">Page 8</a></div>
</span><span style="font-family: Lato-Regular; font-size:10px">•</span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">rack number</span><span style="font-family: Lato-Regular; font-size:10px">—Rack number.•</span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">vcoord vertical-coordinate</span><span style="font-family: Lato-Regular; font-size:10px">—Bellcore Vertical Coordinate.SEE ALSOlocation (System)<span style="position:absolute; border: black 1px solid; left:96px; top:6132px; width:443px; height:0px;"></span>
Example: Configuring the Name of the Switch, IP Address, and System ID</span><span style="font-family: Lato-Bold; font-size:10px">  |  9<span style="position:absolute; border: black 1px solid; left:84px; top:6115px; width:0px; height:35px;"></span>
</span><span style="font-family: Lato-Bold; font-size:14px">Modify the Default Time Zone on the Device<span style="position:absolute; border: black 1px solid; left:73px; top:6188px; width:0px; height:21px;"></span>
</span><span style="font-family: Lato-Regular; font-size:10px">To modify the local time zone, include the </span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:9px">time-zone</span><span style="font-family: Lato-Regular; font-size:10px"> statement at the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">[edit system]</span><span style="font-family: Lato-Regular; font-size:10px"> hierarchy level:<span style="position:absolute; border: black 1px solid; left:92px; top:6257px; width:438px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:82px; top:6257px; width:458px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit]user@host# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set system time-zone (GMT hour-offset | time-zone)</span><span style="font-family: Lato-Regular; font-size:10px">You can use the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">GMT hour-offset</span><span style="font-family: Lato-Regular; font-size:10px"> option to set the time zone relative to UTC (GMT) time. By default, </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">hour-offset</span><span style="font-family: Lato-Regular; font-size:10px"> is </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">0</span><span style="font-family: Lato-Regular; font-size:10px">. You can configure this to be a value from </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">–14</span><span style="font-family: Lato-Regular; font-size:10px"> to </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">+12</span><span style="font-family: Lato-Regular; font-size:10px">.You can also specify the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">time-zone</span><span style="font-family: Lato-Regular; font-size:10px"> value as a string such as PDT (Pacific Daylight Time) or WET (WesternEuropean Time), or specify the continent and major city.<span style="position:absolute; border: black 1px solid; left:83px; top:6393px; width:457px; height:156px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:6393px; width:15px; height:15px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:6393px; width:15px; height:15px;"></span>
<span style="position:absolute; border: black 1px solid; left:101px; top:6405px; width:14px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:101px; top:6405px; width:14px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:106px; top:6410px; width:4px; height:7px;"></span>
<span style="position:absolute; border: black 1px solid; left:108px; top:6408px; width:1px; height:2px;"></span>
<span style="position:absolute; border: black 1px solid; left:106px; top:6410px; width:4px; height:7px;"></span>
<span style="position:absolute; border: black 1px solid; left:108px; top:6408px; width:1px; height:2px;"></span>
</span><span style="font-family: Lato-Bold; font-size:10px">NOTE</span><span style="font-family: Lato-Regular; font-size:10px">: Junos OS complies with the POSIX time-zone standard, which is counter-intuitiveto the way time zones are generally indicated relative to UTC. A time zone ahead of UTC(east of the Greenwich meridian) is commonly indicated as GMT +n; for example, theCentral European Time (CET) zone is indicated as GMT +1. However, this is not true forPOSIX time zone designations. POSIX indicates CET as GMT-1. If you include the </span><span style="font-family: InconsolataCondensed-Regular; font-size:9px">set</span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">system time-zone GMT+1</span><span style="font-family: Lato-Regular; font-size:10px"> statement for a router in the CET zone, your router time will be setto one hour behind GMT, or two hours behind the actual CET time. For this reason, youmight find it easier to use the POSIX time-zone strings, which you can list by entering </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">setsystem time-zone ?</span><span style="font-family: Lato-Regular; font-size:10px">.For the time zone change to take effect for all processes running on the router or switch, you mustreboot the router or switch.</span><span style="font-family: Lato-Bold; font-size:10px">3<span style="position:absolute; border: gray 1px solid; left:0px; top:6786px; width:612px; height:792px;"></span>
<div style="position:absolute; top:6786px;"><a name="9">Page 9</a></div>
</span><span style="font-family: Lato-Regular; font-size:10px">The following example shows how to change the current time zone to </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">America/New_York</span><span style="font-family: Lato-Regular; font-size:10px">:<span style="position:absolute; border: black 1px solid; left:92px; top:6888px; width:438px; height:125px;"></span>
<span style="position:absolute; border: black 1px solid; left:82px; top:6888px; width:458px; height:125px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit]user@host# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set system time-zone America/New_York</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit]user@host# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">show</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">system {    time-zone America/New_York;}</span><span style="font-family: Lato-Regular; font-size:10px">SEE ALSONTP Time Servers<span style="position:absolute; border: black 1px solid; left:96px; top:7088px; width:443px; height:0px;"></span>
Configure Time Zones<span style="position:absolute; border: black 1px solid; left:84px; top:7072px; width:0px; height:35px;"></span>
</span><span style="font-family: Lato-Bold; font-size:14px">Extend the Default Port Address Range<span style="position:absolute; border: black 1px solid; left:73px; top:7145px; width:0px; height:21px;"></span>
</span><span style="font-family: Lato-Regular; font-size:10px">By default, the upper range of a port address is 5000. You can increase the range from which the portnumber can be selected to decrease the probability that someone can determine your port number.•To configure Junos OS to extend the default port address range, include the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">source-port</span><span style="font-family: Lato-Regular; font-size:10px"> statement atthe </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">[edit system internet-options]</span><span style="font-family: Lato-Regular; font-size:10px"> hierarchy level:<span style="position:absolute; border: black 1px solid; left:106px; top:7268px; width:423px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:7268px; width:443px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit]user@host# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set system internet-options source-port upper-limit upper-limit</span><span style="font-family: Lato-Regular; font-size:10px">The statement </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">upper-limit upper-limit</span><span style="font-family: Lato-Regular; font-size:10px"> is the upper limit of a source port address and can be a value from5000 through 65,355.SEE ALSOinternet-options<span style="position:absolute; border: black 1px solid; left:84px; top:7418px; width:0px; height:16px;"></span>
</span><span style="font-family: Lato-Bold; font-size:10px">4<span style="position:absolute; border: gray 1px solid; left:0px; top:7628px; width:612px; height:792px;"></span>
<div style="position:absolute; top:7628px;"><a name="10">Page 10</a></div>
</span><span style="font-family: Lato-Bold; font-size:14px">Select a Fixed Source Address for Locally Generated TCP/IP Packets<span style="position:absolute; border: black 1px solid; left:73px; top:7700px; width:0px; height:21px;"></span>
</span><span style="font-family: Lato-Regular; font-size:10px">By default, the source address included in locally generated Transmission Control Protocol/IP (TCP/IP)packets, such as FTP traffic, and in User Datagram Protocol (UDP) and IP packets, such as Network TimeProtocol (NTP) requests, is chosen as the local address for the interface on which the traffic istransmitted. This means that the local address chosen for packets to a particular destination mightchange from connection to connection based on the interface that the routing protocol has chosen toreach the destination when the connection is established. If multiple equal-cost next hops are presentfor a destination, locally generated packets use the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">lo0</span><span style="font-family: Lato-Regular; font-size:10px"> address as a source.To configure the software to select a fixed address to use as the source for locally generated IP packets,include the default-address-selection statement at the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">[edit system]</span><span style="font-family: Lato-Regular; font-size:10px"> hierarchy level:<span style="position:absolute; border: black 1px solid; left:92px; top:7898px; width:438px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:82px; top:7898px; width:458px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit system]user@host# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set system default-address-selection</span><span style="font-family: Lato-Regular; font-size:10px">If you include the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">default-address-selection</span><span style="font-family: Lato-Regular; font-size:10px"> statement in the configuration, the operating system choosesthe system default address as the source for most locally generated IP packets. The default address isusually an address configured on the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">lo0</span><span style="font-family: Lato-Regular; font-size:10px"> loopback interface. For example, if you specified that SSH andtelnet use a particular address, but you also have </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">default-address selection</span><span style="font-family: Lato-Regular; font-size:10px"> configured, the system defaultaddress is used.</span><span style="font-family: Lato-Bold; font-size:14px">Rebooting and Halting a Device<span style="position:absolute; border: black 1px solid; left:73px; top:8068px; width:0px; height:21px;"></span>
</span><span style="font-family: Lato-Regular; font-size:10px">To reboot the switch, issue the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">request system reboot</span><span style="font-family: Lato-Regular; font-size:10px"> command.<span style="position:absolute; border: black 1px solid; left:92px; top:8137px; width:438px; height:205px;"></span>
<span style="position:absolute; border: black 1px solid; left:82px; top:8137px; width:458px; height:205px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">user@switch&gt; </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">request system reboot ?</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">Possible completions:  &lt;[Enter]&gt;            Execute this command  all-members          Reboot all virtual chassis members  at                   Time at which to perform the operation  both-routing-engines Reboot both the Routing Engines  fast-boot            Enable fast reboot  hypervisor           Reboot Junos OS, host OS,  and Hypervisor    in                   Number of minutes to delay before operation</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">  local                Reboot local virtual chassis member</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">  member               Reboot specific virtual chassis member (0..9)  message              Message to display to all users  other-routing-engine Reboot the other Routing Engine</span><span style="font-family: Lato-Bold; font-size:10px">5<span style="position:absolute; border: gray 1px solid; left:0px; top:8470px; width:612px; height:792px;"></span>
<div style="position:absolute; top:8470px;"><a name="11">Page 11</a></div>
<span style="position:absolute; border: black 1px solid; left:92px; top:8542px; width:438px; height:85px;"></span>
<span style="position:absolute; border: black 1px solid; left:82px; top:8542px; width:458px; height:85px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">  |                    Pipe through a command{master:0}user@switch&gt; </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">request system reboot</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">Reboot the system ? [yes,no] (no) </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">yes</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">Rebooting switch<span style="position:absolute; border: black 1px solid; left:83px; top:8637px; width:457px; height:125px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:8637px; width:15px; height:15px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:8637px; width:15px; height:15px;"></span>
<span style="position:absolute; border: black 1px solid; left:101px; top:8649px; width:14px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:101px; top:8649px; width:14px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:106px; top:8654px; width:4px; height:7px;"></span>
<span style="position:absolute; border: black 1px solid; left:108px; top:8651px; width:1px; height:2px;"></span>
<span style="position:absolute; border: black 1px solid; left:106px; top:8654px; width:4px; height:7px;"></span>
<span style="position:absolute; border: black 1px solid; left:108px; top:8651px; width:1px; height:2px;"></span>
</span><span style="font-family: Lato-Bold; font-size:10px">NOTE</span><span style="font-family: Lato-Regular; font-size:10px">:•Not all options shown in the preceding command output are available on all devices.See the documentation for the request system reboot command for details aboutoptions.•When you issue the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">request system reboot hypervisor</span><span style="font-family: Lato-Regular; font-size:10px"> command on QFX10000 switches,</span><span style="font-family: Lato-Regular; font-size:9px">the reboot takes longer than a standard Junos OS reboot.</span><span style="font-family: Lato-Regular; font-size:10px">Similarly, to halt the switch, issue the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">request system halt</span><span style="font-family: Lato-Regular; font-size:10px"> command.<span style="position:absolute; border: black 1px solid; left:83px; top:8797px; width:457px; height:49px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:8797px; width:15px; height:15px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:8797px; width:15px; height:15px;"></span>
<span style="position:absolute; border: black 1px solid; left:101px; top:8809px; width:16px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:102px; top:8810px; width:14px; height:13px;"></span>
<span style="position:absolute; border: black 1px solid; left:101px; top:8809px; width:17px; height:15px;"></span>
<span style="position:absolute; border: black 1px solid; left:108px; top:8814px; width:2px; height:5px;"></span>
<span style="position:absolute; border: black 1px solid; left:108px; top:8820px; width:2px; height:2px;"></span>
</span><span style="font-family: Lato-Bold; font-size:10px">CAUTION</span><span style="font-family: Lato-Regular; font-size:10px">: Before entering this command, you must have access to the switch’s consoleport in order to bring up the Routing Engine.<span style="position:absolute; border: black 1px solid; left:92px; top:8862px; width:438px; height:215px;"></span>
<span style="position:absolute; border: black 1px solid; left:82px; top:8862px; width:458px; height:215px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">user@switch&gt; </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">request system halt ? </span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">Possible completions:  &lt;[Enter]&gt;            Execute this command  all-members          Halt all virtual chassis members  at                   Time at which to perform the operation  backup-routing-engine  Halt backup Routing Engine  both-routing-engines  Halt both Routing Engines  in                   Number of minutes to delay before operation</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:9px">  local                Halt local virtual chassis member</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">  member               Halt specific virtual chassis member (0..9)  message              Message to display to all users  other-routing-engine  Halt other Routing Engine  |                    Pipe through a command<span style="position:absolute; border: black 1px solid; left:83px; top:9087px; width:457px; height:80px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:9087px; width:15px; height:15px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:9087px; width:15px; height:15px;"></span>
<span style="position:absolute; border: black 1px solid; left:101px; top:9099px; width:14px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:101px; top:9099px; width:14px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:106px; top:9104px; width:4px; height:7px;"></span>
<span style="position:absolute; border: black 1px solid; left:108px; top:9101px; width:1px; height:2px;"></span>
<span style="position:absolute; border: black 1px solid; left:106px; top:9104px; width:4px; height:7px;"></span>
<span style="position:absolute; border: black 1px solid; left:108px; top:9101px; width:1px; height:2px;"></span>
</span><span style="font-family: Lato-Bold; font-size:10px">NOTE</span><span style="font-family: Lato-Regular; font-size:10px">: When you issue this command on an individual component in a QFabric system,you will receive a warning that says “Hardware-based members will halt, Virtual JunosRouting Engines will reboot.” If you want to halt only one member, use the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">member</span><span style="font-family: Lato-Regular; font-size:10px"> option.You cannot issue this command from the QFabric CLI.</span><span style="font-family: Lato-Bold; font-size:10px">6<span style="position:absolute; border: gray 1px solid; left:0px; top:9312px; width:612px; height:792px;"></span>
<div style="position:absolute; top:9312px;"><a name="12">Page 12</a></div>
</span><span style="font-family: Lato-Regular; font-size:10px">Issuing the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">request system halt</span><span style="font-family: Lato-Regular; font-size:10px"> command on the switch halts the Routing Engine. To reboot a RoutingEngine that has been halted, you must connect through the console.SEE ALSOclear system reboot<span style="position:absolute; border: black 1px solid; left:96px; top:9489px; width:443px; height:0px;"></span>
request system halt<span style="position:absolute; border: black 1px solid; left:96px; top:9508px; width:443px; height:0px;"></span>
request system power-off<span style="position:absolute; border: black 1px solid; left:96px; top:9527px; width:443px; height:0px;"></span>
Connecting a QFX Series Device to a Management Console<span style="position:absolute; border: black 1px solid; left:84px; top:9473px; width:0px; height:73px;"></span>
RELATED DOCUMENTATIONDisable Reporting IP Address and Timestamps in Ping Responses</span><span style="font-family: Lato-Bold; font-size:10px">  |  17<span style="position:absolute; border: black 1px solid; left:84px; top:9605px; width:0px; height:16px;"></span>
</span><span style="font-family: Lato-Bold; font-size:20px">Hostnames<span style="position:absolute; border: black 1px solid; left:72px; top:9711px; width:612px; height:117px;"></span>
</span><span style="font-family: Lato-Bold; font-size:9px">IN THIS SECTION<span style="position:absolute; border: black 1px solid; left:89px; top:9758px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Configure the Hostname of a Device in a Configuration Group</span><span style="font-family: Lato-Bold; font-size:9px">  |  7<span style="position:absolute; border: black 1px solid; left:92px; top:9764px; width:0px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:89px; top:9777px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Mapping the Hostname of the Switch to IP Addresses</span><span style="font-family: Lato-Bold; font-size:9px">  |  9<span style="position:absolute; border: black 1px solid; left:92px; top:9783px; width:0px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:89px; top:9796px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Example: Configuring the Name of the Switch, IP Address, and System ID</span><span style="font-family: Lato-Bold; font-size:9px">  |  9</span><span style="font-family: Lato-Bold; font-size:14px">Configure the Hostname of a Device in a Configuration Group<span style="position:absolute; border: black 1px solid; left:73px; top:9866px; width:0px; height:21px;"></span>
</span><span style="font-family: Lato-Regular; font-size:10px">The hostname of a device running Junos OS device is its identification. A network device must have itsidentity established to be accessible on the network. That is perhaps the most important reason to havea hostname, but a hostname also has other purposes.Junos OS uses the configured hostname as part of the command prompt and to prepend log files andother accounting information. The hostname is also used anywhere else where knowing the deviceidentity is important. For these reasons, we recommend that you provide hostnames that are descriptiveand memorable.</span><span style="font-family: Lato-Bold; font-size:10px">7<span style="position:absolute; border: gray 1px solid; left:0px; top:10154px; width:612px; height:792px;"></span>
<div style="position:absolute; top:10154px;"><a name="13">Page 13</a></div>
</span><span style="font-family: Lato-Regular; font-size:10px">You can configure the hostname at the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">[edit system]</span><span style="font-family: Lato-Regular; font-size:10px"> hierarchy level. Optionally, instead of configuring thehostname at the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">[edit system]</span><span style="font-family: Lato-Regular; font-size:10px"> hierarchy level, you can use a configuration group, as shown in thisprocedure. This is a recommended best practice for configuring the hostname, especially if the devicehas dual Routing Engines. This procedure uses groups called </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">re0</span><span style="font-family: Lato-Regular; font-size:10px"> and </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">re1</span><span style="font-family: Lato-Regular; font-size:10px"> as an example.<span style="position:absolute; border: black 1px solid; left:83px; top:10296px; width:457px; height:64px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:10296px; width:15px; height:15px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:10296px; width:15px; height:15px;"></span>
<span style="position:absolute; border: black 1px solid; left:101px; top:10308px; width:14px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:101px; top:10308px; width:14px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:106px; top:10313px; width:4px; height:7px;"></span>
<span style="position:absolute; border: black 1px solid; left:108px; top:10311px; width:1px; height:2px;"></span>
<span style="position:absolute; border: black 1px solid; left:106px; top:10313px; width:4px; height:7px;"></span>
<span style="position:absolute; border: black 1px solid; left:108px; top:10311px; width:1px; height:2px;"></span>
</span><span style="font-family: Lato-Bold; font-size:10px">NOTE</span><span style="font-family: Lato-Regular; font-size:10px">: If you configure hostnames that are longer than the CLI screen width, regardlessof the terminal screen width setting, the commit operation occurs successfully. Even ifthe terminal screen width is less than the hostname length, the commit is successful.To set the hostname by using a configuration group:1.Include the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">host-name</span><span style="font-family: Lato-Regular; font-size:10px"> statement at the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">[edit groups group-name system</span><span style="font-family: Lato-Regular; font-size:10px">] hierarchy level.The hostname value must be less than 256 characters.<span style="position:absolute; border: black 1px solid; left:106px; top:10444px; width:424px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:10444px; width:444px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit groups group-name system]host-name hostname;</span><span style="font-family: Lato-Regular; font-size:10px">For example:<span style="position:absolute; border: black 1px solid; left:106px; top:10530px; width:424px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:10530px; width:444px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit groups re0 system]root@# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set host-name san-jose-router0<span style="position:absolute; border: black 1px solid; left:106px; top:10595px; width:424px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:10595px; width:444px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit groups re1 system]root@# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set host-name san-jose-router1</span><span style="font-family: Lato-Regular; font-size:10px">2.If you used one or more configuration groups, apply the configuration groups, substituting theappropriate group names.For example:<span style="position:absolute; border: black 1px solid; left:106px; top:10711px; width:424px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:10711px; width:444px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit]user@host# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set apply-groups [re0 re1]</span><span style="font-family: Lato-Regular; font-size:10px">3.Commit the changes.<span style="position:absolute; border: black 1px solid; left:106px; top:10794px; width:424px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:10794px; width:444px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit]</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">root@# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">commit</span><span style="font-family: Lato-Bold; font-size:10px">8<span style="position:absolute; border: gray 1px solid; left:0px; top:10996px; width:612px; height:792px;"></span>
<div style="position:absolute; top:10996px;"><a name="14">Page 14</a></div>
</span><span style="font-family: Lato-Regular; font-size:10px">The hostname appears in the device CLI prompt.<span style="position:absolute; border: black 1px solid; left:106px; top:11098px; width:424px; height:35px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:11098px; width:444px; height:35px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">san-jose-router0# </span><span style="font-family: Lato-Bold; font-size:14px">Mapping the Hostname of the Switch to IP Addresses<span style="position:absolute; border: black 1px solid; left:73px; top:11171px; width:0px; height:21px;"></span>
</span><span style="font-family: Lato-Regular; font-size:10px">To map a hostname of a switch to one or more IP addresses, include the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">inet</span><span style="font-family: Lato-Regular; font-size:10px"> statement at the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">[editsystem static-host-mapping hostname]</span><span style="font-family: Lato-Regular; font-size:10px"> hierarchy level:<span style="position:absolute; border: black 1px solid; left:92px; top:11255px; width:438px; height:125px;"></span>
<span style="position:absolute; border: black 1px solid; left:82px; top:11255px; width:458px; height:125px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit system]static-host-mapping {    hostname {        inet [ addresses ];        alias [ aliases ];    }}</span><span style="font-family: Lato-Regular; font-size:10px">hostname is the name specified by the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">host-name</span><span style="font-family: Lato-Regular; font-size:10px"> statement at the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">[edit system]</span><span style="font-family: Lato-Regular; font-size:10px"> hierarchy level.For each host, you can specify one or more aliases.SEE ALSOConfigure a DNS Name Server for Resolving Hostnames into Addresses</span><span style="font-family: Lato-Bold; font-size:10px">  |  11<span style="position:absolute; border: black 1px solid; left:96px; top:11501px; width:443px; height:0px;"></span>
</span><span style="font-family: Lato-Regular; font-size:10px">Mapping the Name of the Router to IP Addresses<span style="position:absolute; border: black 1px solid; left:96px; top:11520px; width:443px; height:0px;"></span>
static-host-mapping<span style="position:absolute; border: black 1px solid; left:84px; top:11484px; width:0px; height:54px;"></span>
</span><span style="font-family: Lato-Bold; font-size:14px">Example: Configuring the Name of the Switch, IP Address, and System ID<span style="position:absolute; border: black 1px solid; left:73px; top:11576px; width:0px; height:20px;"></span>
</span><span style="font-family: Lato-Regular; font-size:10px">The following example shows how to configure the switch name, map the name to an IP address andalias, and configure a system identifier:<span style="position:absolute; border: black 1px solid; left:92px; top:11660px; width:438px; height:55px;"></span>
<span style="position:absolute; border: black 1px solid; left:82px; top:11660px; width:458px; height:55px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit]user@switch# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set system host-name switch1</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit]</span><span style="font-family: Lato-Bold; font-size:10px">9<span style="position:absolute; border: gray 1px solid; left:0px; top:11838px; width:612px; height:792px;"></span>
<div style="position:absolute; top:11838px;"><a name="15">Page 15</a></div>
<span style="position:absolute; border: black 1px solid; left:92px; top:11910px; width:438px; height:265px;"></span>
<span style="position:absolute; border: black 1px solid; left:82px; top:11910px; width:458px; height:265px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">user@switch# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set system static-host-mapping switch1 inet 192.168.1.77</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit]user@switch# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set system static-host-mapping switch1 alias sj1</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit]user@switch# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set system static-host-mapping switch1 sysid 1921.6800.1077</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit]user@switch# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">show</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">system {    host-name switch-sj1;    static-host-mapping {        switch-sj1 {            inet 192.168.1.77;            alias sj1;</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">            sysid 1921.6800.1077;</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">        }    }}</span><span style="font-family: Lato-Bold; font-size:20px">Understanding and Configuring DNS<span style="position:absolute; border: black 1px solid; left:72px; top:12265px; width:612px; height:98px;"></span>
</span><span style="font-family: Lato-Bold; font-size:9px">IN THIS SECTION<span style="position:absolute; border: black 1px solid; left:89px; top:12311px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">DNS Overview</span><span style="font-family: Lato-Bold; font-size:9px">  |  10<span style="position:absolute; border: black 1px solid; left:92px; top:12318px; width:0px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:89px; top:12330px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Configure a DNS Name Server for Resolving Hostnames into Addresses</span><span style="font-family: Lato-Bold; font-size:9px">  |  11</span><span style="font-family: Lato-Bold; font-size:14px">DNS Overview<span style="position:absolute; border: black 1px solid; left:73px; top:12401px; width:0px; height:21px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:12440px; width:601px; height:98px;"></span>
</span><span style="font-family: Lato-Bold; font-size:9px">IN THIS SECTION<span style="position:absolute; border: black 1px solid; left:111px; top:12486px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">DNS Components</span><span style="font-family: Lato-Bold; font-size:9px">  |  11<span style="position:absolute; border: black 1px solid; left:114px; top:12493px; width:0px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:111px; top:12505px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">DNS Server Caching</span><span style="font-family: Lato-Bold; font-size:9px">  |  11</span><span style="font-family: Lato-Bold; font-size:10px">10<span style="position:absolute; border: gray 1px solid; left:0px; top:12680px; width:612px; height:792px;"></span>
<div style="position:absolute; top:12680px;"><a name="16">Page 16</a></div>
</span><span style="font-family: Lato-Regular; font-size:10px">A Domain Name System (DNS) is a distributed hierarchical system that converts hostnames to IPaddresses. The DNS is divided into sections called zones. Each zone has name servers that respond tothe queries belonging to their zones.</span><span style="font-family: Lato-Bold; font-size:12px">DNS Components</span><span style="font-family: Lato-Regular; font-size:10px">DNS includes three main components:•DNS resolver: Resides on the client side of the DNS. When a user sends a hostname request, theresolver sends a DNS query request to the name servers to request the hostname&#x27;s IP address.•Name servers: Processes the DNS query requests received from the DNS resolver and returns the IPaddress to the resolver.</span><span style="font-family: Lato-Regular; font-size:9px">•Resource records: Data elements that define the basic structure and content of the DNS.</span><span style="font-family: Lato-Bold; font-size:12px">DNS Server Caching</span><span style="font-family: Lato-Regular; font-size:10px">DNS name servers provide a hostname&#x27;s IP address to users. The TTL field in the resource record definesthe period for which DNS query results are cached. When the TTL value expires, the name server sendsa fresh DNS query and updates the cache.</span><span style="font-family: Lato-Bold; font-size:14px">Configure a DNS Name Server for Resolving Hostnames into Addresses<span style="position:absolute; border: black 1px solid; left:73px; top:13097px; width:0px; height:21px;"></span>
</span><span style="font-family: Lato-Regular; font-size:10px">You use Domain Name System (DNS) name servers to resolve hostnames to IP addresses.Before you begin, configure your name servers with the hostname and an IP address for your JuniperNetworks device. It does not matter which IP address you assign as the address of your device in thename server, as long it is an address that reaches your device. Normally, you would use the managementinterface IP address, but you can choose the loopback interface IP address or a network interface IPaddress. You can even configure multiple addresses on the name server.For redundancy, as a best practice, configure access to multiple name servers. You can configure amaximum of three name servers. The approach is similar to the way Web browsers resolve the names ofa website to its network address.You can use Junos OS to configure one or more domain names. The software uses these domain namesto resolve hostnames that are not fully qualified (that is, hostnames for which the domain names aremissing). Being able to configure domain names is convenient because you can use a hostname inconfiguring and operating the software without the need to reference the full domain name. Afteradding name server addresses and domain names to your configuration, you can use DNS resolvablehostnames in your configurations and commands instead of IP addresses.</span><span style="font-family: Lato-Bold; font-size:10px">11<span style="position:absolute; border: gray 1px solid; left:0px; top:13522px; width:612px; height:792px;"></span>
<div style="position:absolute; top:13522px;"><a name="17">Page 17</a></div>
</span><span style="font-family: Lato-Regular; font-size:10px">Optionally, instead of configuring the name server at the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">[edit system]</span><span style="font-family: Lato-Regular; font-size:10px"> hierarchy level, you can use aconfiguration group, as shown in this procedure. This is a recommended best practice for configuring thename server.You can route traffic between a management routing instance and a DNS name server. After youconfigure a routing instance at the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">[edit system name-server server-ip-address]</span><span style="font-family: Lato-Regular; font-size:10px"> hierarchy level, the nameserver becomes reachable through this routing instance.<span style="position:absolute; border: black 1px solid; left:83px; top:13703px; width:457px; height:49px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:13703px; width:15px; height:15px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:13703px; width:15px; height:15px;"></span>
<span style="position:absolute; border: black 1px solid; left:101px; top:13715px; width:14px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:101px; top:13715px; width:14px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:106px; top:13720px; width:4px; height:7px;"></span>
<span style="position:absolute; border: black 1px solid; left:108px; top:13717px; width:1px; height:2px;"></span>
<span style="position:absolute; border: black 1px solid; left:106px; top:13720px; width:4px; height:7px;"></span>
<span style="position:absolute; border: black 1px solid; left:108px; top:13717px; width:1px; height:2px;"></span>
</span><span style="font-family: Lato-Bold; font-size:10px">NOTE</span><span style="font-family: Lato-Regular; font-size:10px">: This management routing instance option is not supported for SRX SeriesFirewalls.To enable a management routing instance for DNS, use the following configuration:<span style="position:absolute; border: black 1px solid; left:92px; top:13793px; width:438px; height:65px;"></span>
<span style="position:absolute; border: black 1px solid; left:82px; top:13793px; width:458px; height:65px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">user@host# set system management-instanceuser@host# set routing-instances mgmt_junos description descriptionuser@host# set system name-server server-ip-address routing-instance mgmt_junos</span><span style="font-family: Lato-Regular; font-size:10px">If you&#x27;ve configured the name server using a configuration group, use the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">[edit groups group-name systemname-server]</span><span style="font-family: Lato-Regular; font-size:10px"> hierarchy level, which is a recommended best practice for configuring the name server.To configure the device to resolve hostnames into addresses:1.Reference the IP addresses of your name servers.<span style="position:absolute; border: black 1px solid; left:106px; top:13958px; width:424px; height:80px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:13958px; width:444px; height:80px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit groups group-name system]name-server {    address;}</span><span style="font-family: Lato-Regular; font-size:10px">The following example shows how to reference two name servers:<span style="position:absolute; border: black 1px solid; left:106px; top:14074px; width:424px; height:140px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:14074px; width:444px; height:140px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit groups global system]user@host# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set name-server 192.168.1.253</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">user@host# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set name-server 192.168.1.254</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">user@host# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">show</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">name server {    192.168.1.253;</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">    192.168.1.254;</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">}</span><span style="font-family: Lato-Regular; font-size:10px">2.(Optional) Configure the routing instance for DNS.</span><span style="font-family: Lato-Bold; font-size:10px">12<span style="position:absolute; border: gray 1px solid; left:0px; top:14364px; width:612px; height:792px;"></span>
<div style="position:absolute; top:14364px;"><a name="18">Page 18</a></div>
</span><span style="font-family: Lato-Regular; font-size:10px">The following example shows how to configure the routing instance for one of the name servers:<span style="position:absolute; border: black 1px solid; left:106px; top:14466px; width:424px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:14466px; width:444px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit groups global system]user@host# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set name-server 192.168.1.253 routing-instance mgmt_junos</span><span style="font-family: Lato-Regular; font-size:10px">Remember to also configure the following:•</span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">management-instance</span><span style="font-family: Lato-Regular; font-size:10px"> statement at the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">[edit system]</span><span style="font-family: Lato-Regular; font-size:10px"> hierarchy level•</span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">routing-instance</span><span style="font-family: Lato-Regular; font-size:10px"> statement at the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">[edit routing-instances]</span><span style="font-family: Lato-Regular; font-size:10px"> hierarchy level3.(Optional) Configure the name of the domain in which the device itself is located.This is a good practice. The software then uses this configured domain name as the default domainname to append to hostnames that are not fully qualified.<span style="position:absolute; border: black 1px solid; left:106px; top:14652px; width:424px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:14652px; width:444px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit system]domain-name domain-name;</span><span style="font-family: Lato-Regular; font-size:10px">The following example shows how to configure the domain name:<span style="position:absolute; border: black 1px solid; left:106px; top:14738px; width:424px; height:80px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:14738px; width:444px; height:80px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit groups global system]user@host# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set domain-name company.net</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">user@host# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">show</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">domain-name company.net;</span><span style="font-family: Lato-Regular; font-size:10px">4.(Optional) Configure a list of domains to be searched.If your device can reach several different domains, you can configure a list of domains to be searched.Junos OS then uses this list to set an order in which it appends domain names when searching for theIP address of a host.<span style="position:absolute; border: black 1px solid; left:106px; top:14899px; width:424px; height:49px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:14899px; width:444px; height:49px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit groups global system]domain-search [ domain-list ];</span><span style="font-family: Lato-Regular; font-size:10px">The domain list can contain up to six domain names, with a total of up to 256 characters.</span><span style="font-family: Lato-Bold; font-size:10px">13<span style="position:absolute; border: gray 1px solid; left:0px; top:15206px; width:612px; height:792px;"></span>
<div style="position:absolute; top:15206px;"><a name="19">Page 19</a></div>
</span><span style="font-family: Lato-Regular; font-size:10px">The following example shows how to configure three domains to be searched. This exampleconfigures the software to search the company.net domain, next the domainone.net domain, andfinally the domainonealternate.com domain when attempting to resolve unqualified hosts.<span style="position:absolute; border: black 1px solid; left:106px; top:15338px; width:424px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:15338px; width:444px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit groups global system]domain-search [ company.net domainone.net domainonealternate.com ]</span><span style="font-family: Lato-Regular; font-size:10px">5.If you used a configuration group, apply the configuration group, replacing </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">global</span><span style="font-family: Lato-Regular; font-size:10px"> with the appropriategroup name.<span style="position:absolute; border: black 1px solid; left:106px; top:15436px; width:424px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:15436px; width:444px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit]user@host# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set apply-groups global</span><span style="font-family: Lato-Regular; font-size:10px">6.Commit the configuration.<span style="position:absolute; border: black 1px solid; left:106px; top:15519px; width:424px; height:35px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:15519px; width:444px; height:35px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">user@host# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">commit</span><span style="font-family: Lato-Regular; font-size:10px">7.Verify the configuration.If you&#x27;ve configured your name server with the hostname and an IP address for your device, you canissue the following commands to confirm that DNS is working and reachable. You can either use theconfigured hostname to confirm resolution to the IP address or use the IP address of your device toconfirm resolution to the configured hostname.<span style="position:absolute; border: black 1px solid; left:106px; top:15650px; width:424px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:15650px; width:444px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">user@host&gt; </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">show host host-name</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">user@host&gt; </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">show host host-ip-address</span><span style="font-family: Lato-Regular; font-size:10px">For example:<span style="position:absolute; border: black 1px solid; left:106px; top:15736px; width:424px; height:64px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:15736px; width:444px; height:64px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">user@host&gt; </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">show host device.example.net</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">device.example.net device.example.net has address 192.168.187.1<span style="position:absolute; border: black 1px solid; left:106px; top:15816px; width:424px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:15816px; width:444px; height:50px;"></span>
user@host&gt; </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">show host 192.168.187.1</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">10.187.168.192.in-addr.arpa domain name pointer device.example.net.</span><span style="font-family: Lato-Bold; font-size:10px">14<span style="position:absolute; border: gray 1px solid; left:0px; top:16048px; width:612px; height:792px;"></span>
<div style="position:absolute; top:16048px;"><a name="20">Page 20</a></div>
</span><span style="font-family: Lato-Bold; font-size:20px">ICMP Features<span style="position:absolute; border: black 1px solid; left:72px; top:16174px; width:612px; height:176px;"></span>
<span style="position:absolute; border: black 1px solid; left:72px; top:16175px; width:234px; height:174px;"></span>
</span><span style="font-family: Lato-Bold; font-size:9px">SUMMARY</span><span style="font-family: Lato-Regular; font-size:9px">Use Internet Control Message Protocol (ICMP)features to diagnose network issues and checkdevice reachability.</span><span style="font-family: Lato-Bold; font-size:9px">IN THIS SECTION<span style="position:absolute; border: black 1px solid; left:337px; top:16221px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Protocol Redirect Messages</span><span style="font-family: Lato-Bold; font-size:9px">  |  15<span style="position:absolute; border: black 1px solid; left:340px; top:16228px; width:0px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:337px; top:16240px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Pings</span><span style="font-family: Lato-Bold; font-size:9px">  |  17<span style="position:absolute; border: black 1px solid; left:340px; top:16247px; width:0px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:337px; top:16259px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Source Quench Messages</span><span style="font-family: Lato-Bold; font-size:9px">  |  18<span style="position:absolute; border: black 1px solid; left:340px; top:16266px; width:0px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:337px; top:16278px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Time-to-Live (TTL) Expiration</span><span style="font-family: Lato-Bold; font-size:9px">  |  19<span style="position:absolute; border: black 1px solid; left:340px; top:16285px; width:0px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:337px; top:16297px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Rate Limit ICMP Traffic</span><span style="font-family: Lato-Bold; font-size:9px">  |  19<span style="position:absolute; border: black 1px solid; left:340px; top:16304px; width:0px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:337px; top:16316px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Rate Limit ICMP Error Messages</span><span style="font-family: Lato-Bold; font-size:9px">  |  20<span style="position:absolute; border: black 1px solid; left:72px; top:16174px; width:234px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:72px; top:16350px; width:234px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:305px; top:16174px; width:234px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:305px; top:16350px; width:234px; height:0px;"></span>
</span><span style="font-family: Lato-Regular; font-size:10px">Use Feature Explorer to confirm platform and release support for specific features.</span><span style="font-family: Lato-Bold; font-size:14px">Protocol Redirect Messages<span style="position:absolute; border: black 1px solid; left:73px; top:16427px; width:0px; height:21px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:16466px; width:601px; height:98px;"></span>
</span><span style="font-family: Lato-Bold; font-size:9px">IN THIS SECTION<span style="position:absolute; border: black 1px solid; left:111px; top:16512px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Understanding Protocol Redirect Messages</span><span style="font-family: Lato-Bold; font-size:9px">  |  15<span style="position:absolute; border: black 1px solid; left:114px; top:16519px; width:0px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:111px; top:16531px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Disable Protocol Redirect Messages</span><span style="font-family: Lato-Bold; font-size:9px">  |  16</span><span style="font-family: Lato-Regular; font-size:10px">ICMP redirect, also known as protocol redirect, is a mechanism used by switches and routers to conveyrouting information to hosts. Devices use protocol redirect messages to notify the hosts on the samedata link of the best route available for a given destination.</span><span style="font-family: Lato-Bold; font-size:12px">Understanding Protocol Redirect Messages</span><span style="font-family: Lato-Regular; font-size:10px">Protocol redirect messages inform a host to update its routing information and to send packets on analternate route. Suppose a host tries to send a data packet through a switch S1 and S1 sends the datapacket to another switch, S2. Also, suppose that a direct path from the host to S2 is available (that is, thehost and S2 are on the same Ethernet segment). S1 then sends a protocol redirect message to inform thehost that the best route for the destination is the direct route to S2. The host should then send packets</span><span style="font-family: Lato-Bold; font-size:10px">15<span style="position:absolute; border: gray 1px solid; left:0px; top:16890px; width:612px; height:792px;"></span>
<div style="position:absolute; top:16890px;"><a name="21">Page 21</a></div>
</span><span style="font-family: Lato-Regular; font-size:10px">directly to S2 instead of sending them through S1. S2 still sends the original packet that it received fromS1 to the intended destination.Refer to RFC-1122 and RFC-4861 for more details on protocol redirecting.<span style="position:absolute; border: black 1px solid; left:83px; top:17026px; width:457px; height:109px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:17026px; width:15px; height:15px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:17026px; width:15px; height:15px;"></span>
<span style="position:absolute; border: black 1px solid; left:101px; top:17038px; width:14px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:101px; top:17038px; width:14px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:106px; top:17043px; width:4px; height:7px;"></span>
<span style="position:absolute; border: black 1px solid; left:108px; top:17040px; width:1px; height:2px;"></span>
<span style="position:absolute; border: black 1px solid; left:106px; top:17043px; width:4px; height:7px;"></span>
<span style="position:absolute; border: black 1px solid; left:108px; top:17040px; width:1px; height:2px;"></span>
</span><span style="font-family: Lato-Bold; font-size:10px">NOTE</span><span style="font-family: Lato-Regular; font-size:10px">:•Switches do not send protocol redirect messages if the data packet contains routinginformation.•All EX series switches support sending protocol redirect messages for both IPv4 andIPv6 traffic.</span><span style="font-family: Lato-Bold; font-size:12px">Disable Protocol Redirect Messages</span><span style="font-family: Lato-Regular; font-size:10px">By default, devices send protocol redirect messages for both IPv4 and IPv6 traffic. For security reasons,you may want to disable the device from sending protocol redirect messages.To disable protocol redirect messages for the entire device, include the </span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:9px">no-redirects</span><span style="font-family: InconsolataCondensed-Regular; font-size:10px"> </span><span style="font-family: Lato-Regular; font-size:10px">or </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">no-redirects-ipv6</span><span style="font-family: Lato-Regular; font-size:10px">statement at the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">[edit system]</span><span style="font-family: Lato-Regular; font-size:10px"> hierarchy level.•For IPv4 traffic:<span style="position:absolute; border: black 1px solid; left:106px; top:17293px; width:423px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:17293px; width:443px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit system]user@host# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set no-redirects</span><span style="font-family: Lato-Regular; font-size:10px">•For IPv6 traffic:<span style="position:absolute; border: black 1px solid; left:106px; top:17383px; width:423px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:17383px; width:443px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit system]user@host# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set no-redirects-ipv6</span><span style="font-family: Lato-Regular; font-size:10px">To re-enable the sending of redirect messages on the device, delete the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">no-redirects</span><span style="font-family: Lato-Regular; font-size:10px"> statement (for IPv4traffic) or the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">no-redirects-ipv6</span><span style="font-family: Lato-Regular; font-size:10px"> statement (for IPv6 traffic) from the configuration.To disable protocol redirect messages on a per-interface basis, include the </span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:9px">no-redirects</span><span style="font-family: InconsolataCondensed-Regular; font-size:10px"> </span><span style="font-family: Lato-Regular; font-size:10px">statement at the</span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">[edit </span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:9px">interfaces</span><span style="font-family: InconsolataCondensed-Regular; font-size:10px"> interface-name </span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:9px">unit</span><span style="font-family: InconsolataCondensed-Regular; font-size:10px"> logical-unit-number </span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:9px">family</span><span style="font-family: InconsolataCondensed-Regular; font-size:10px"> family]</span><span style="font-family: Lato-Regular; font-size:10px"> hierarchy level.•For IPv4 traffic:<span style="position:absolute; border: black 1px solid; left:106px; top:17552px; width:423px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:17552px; width:443px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit interfaces interface-name unit logical-unit-number]user@host# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set family inet no-redirects</span><span style="font-family: Lato-Bold; font-size:10px">16<span style="position:absolute; border: gray 1px solid; left:0px; top:17732px; width:612px; height:792px;"></span>
<div style="position:absolute; top:17732px;"><a name="22">Page 22</a></div>
</span><span style="font-family: Lato-Regular; font-size:10px">•For IPv6 traffic:<span style="position:absolute; border: black 1px solid; left:106px; top:17834px; width:423px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:17834px; width:443px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit interfaces interface-name unit logical-unit-number]user@host# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set family inet6 no-redirects</span><span style="font-family: Lato-Bold; font-size:14px">Pings<span style="position:absolute; border: black 1px solid; left:73px; top:17922px; width:0px; height:21px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:17961px; width:601px; height:98px;"></span>
</span><span style="font-family: Lato-Bold; font-size:9px">IN THIS SECTION<span style="position:absolute; border: black 1px solid; left:111px; top:18007px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:8px">Disable the Routing Engine Response to Multicast Ping Packets</span><span style="font-family: Lato-Bold; font-size:8px">  |  17<span style="position:absolute; border: black 1px solid; left:114px; top:18014px; width:0px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:111px; top:18026px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Disable Reporting IP Address and Timestamps in Ping Responses</span><span style="font-family: Lato-Bold; font-size:9px">  |  17</span><span style="font-family: Lato-Regular; font-size:10px">Pings use ICMP. A successful ping is when a device sends an ICMP echo request to a target and thetarget responds with an ICMP echo reply. However, there might be situations where you do not wantyour device to respond to ping requests.</span><span style="font-family: Lato-Bold; font-size:12px">Disable the Routing Engine Response to Multicast Ping Packets</span><span style="font-family: Lato-Regular; font-size:10px">By default, the Routing Engine responds to ICMP echo requests sent to multicast group addresses. Byconfiguring the Routing Engine to ignore multicast ping packets, you can prevent unauthorized personsfrom discovering the list of provider edge (PE) devices in the network.To disable the Routing Engine from responding to these ICMP echo requests, include the </span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:9px">no-multicast-echo</span><span style="font-family: InconsolataCondensed-Regular; font-size:10px"> </span><span style="font-family: Lato-Regular; font-size:10px">statement at the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">[edit system]</span><span style="font-family: Lato-Regular; font-size:10px"> hierarchy level:<span style="position:absolute; border: black 1px solid; left:92px; top:18273px; width:438px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:82px; top:18273px; width:458px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit system]user@host# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set no-multicast-echo</span><span style="font-family: Lato-Bold; font-size:12px">Disable Reporting IP Address and Timestamps in Ping Responses</span><span style="font-family: Lato-Regular; font-size:10px">When you issue the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">ping</span><span style="font-family: Lato-Regular; font-size:10px"> command with the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">record-route</span><span style="font-family: Lato-Regular; font-size:10px"> option, the Routing Engine displays the path ofthe ICMP echo request packets and the timestamps in the ICMP echo responses by default. Byconfiguring the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">no-ping-record-route</span><span style="font-family: Lato-Regular; font-size:10px"> and </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">no-ping-timestamp</span><span style="font-family: Lato-Regular; font-size:10px"> options, you can prevent unauthorized personsfrom discovering information about the provider edge (PE) device and its loopback address.</span><span style="font-family: Lato-Bold; font-size:10px">17<span style="position:absolute; border: gray 1px solid; left:0px; top:18574px; width:612px; height:792px;"></span>
<div style="position:absolute; top:18574px;"><a name="23">Page 23</a></div>
</span><span style="font-family: Lato-Regular; font-size:10px">You can configure the Routing Engine to disable the setting of the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">record-route</span><span style="font-family: Lato-Regular; font-size:10px"> option in the IP header ofthe ping request packets. Disabling the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">record-route</span><span style="font-family: Lato-Regular; font-size:10px"> option prevents the Routing Engine from recordingand displaying the path of the ICMP echo request packets in the response.To configure the Routing Engine to disable the setting of the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">record route</span><span style="font-family: Lato-Regular; font-size:10px"> option, include the </span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:9px">no-ping-record-route</span><span style="font-family: InconsolataCondensed-Regular; font-size:10px"> </span><span style="font-family: Lato-Regular; font-size:10px">statement at the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">[edit system]</span><span style="font-family: Lato-Regular; font-size:10px"> hierarchy level:<span style="position:absolute; border: black 1px solid; left:92px; top:18746px; width:438px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:82px; top:18746px; width:458px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit system]user@host# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set no-ping-record-route</span><span style="font-family: Lato-Regular; font-size:10px">To disable the reporting of timestamps in the ICMP echo responses, include the </span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:9px">no-ping-time-stamp</span><span style="font-family: InconsolataCondensed-Regular; font-size:10px"> </span><span style="font-family: Lato-Regular; font-size:10px">optionat the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">[edit system]</span><span style="font-family: Lato-Regular; font-size:10px"> hierarchy level:<span style="position:absolute; border: black 1px solid; left:92px; top:18847px; width:438px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:82px; top:18847px; width:458px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit system]user@host# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set no-ping-time-stamp</span><span style="font-family: Lato-Bold; font-size:14px">Source Quench Messages<span style="position:absolute; border: black 1px solid; left:73px; top:18935px; width:0px; height:21px;"></span>
</span><span style="font-family: Lato-Regular; font-size:10px">When a device is receiving too many or undesired datagrams, it can send a source quench message tothe originating device. The source quench message signals the originating device to reduce the amountof traffic it is sending.By default, the device reacts to ICMP source quench messages. To ignore ICMP source quenchmessages, include the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">no-source-quench</span><span style="font-family: Lato-Regular; font-size:10px"> statement at the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">[edit system </span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:9px">internet-options</span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">]</span><span style="font-family: Lato-Regular; font-size:10px"> hierarchy level:<span style="position:absolute; border: black 1px solid; left:92px; top:19074px; width:438px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:82px; top:19074px; width:458px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit system internet-options]</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:9px">no-source-quench;</span><span style="font-family: Lato-Regular; font-size:10px">To stop ignoring ICMP source quench messages, use the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">source-quench</span><span style="font-family: Lato-Regular; font-size:10px"> statement:<span style="position:absolute; border: black 1px solid; left:92px; top:19160px; width:438px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:82px; top:19160px; width:458px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit system internet-options]source-quench;</span><span style="font-family: Lato-Bold; font-size:10px">18<span style="position:absolute; border: gray 1px solid; left:0px; top:19416px; width:612px; height:792px;"></span>
<div style="position:absolute; top:19416px;"><a name="24">Page 24</a></div>
</span><span style="font-family: Lato-Bold; font-size:14px">Time-to-Live (TTL) Expiration<span style="position:absolute; border: black 1px solid; left:73px; top:19488px; width:0px; height:21px;"></span>
</span><span style="font-family: Lato-Regular; font-size:10px">The time-to-live (TTL) value in a packet header determines how long the packet remains travelingthrough the network. The TTL value decrements with each device (or hop) the packet travels through.When a device receives a packet with a TTL value of 0, it discards the packet. The TTL expiry message issent using ICMP.You can configure your device to use an IPv4 address as the source address for ICMP time-to-live (TTL)expiry error messages. This means you can configure the loopback address as the source address inresponse to ICMP error packets. Doing this is useful when you cannot use the device address fortraceroute purposes because you have duplicate IPv4 addresses in your network.The source address must be an IPv4 address. To specify the source address, use the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">ttl-expired-source-address source-address</span><span style="font-family: Lato-Regular; font-size:10px"> option at the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">[edit system </span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:9px">icmp (System)</span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">]</span><span style="font-family: Lato-Regular; font-size:10px"> hierarchy level:<span style="position:absolute; border: black 1px solid; left:92px; top:19710px; width:438px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:82px; top:19710px; width:458px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit system icmp]user@host# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set ttl-expired-source-address source-address</span><span style="font-family: Lato-Regular; font-size:10px">This configuration only applies to ICMP TTL expiry messages. Other ICMP error reply messagescontinue to use the address of the ingress interface as the source address.</span><span style="font-family: Lato-Bold; font-size:14px">Rate Limit ICMP Traffic<span style="position:absolute; border: black 1px solid; left:73px; top:19834px; width:0px; height:21px;"></span>
</span><span style="font-family: Lato-Regular; font-size:10px">To limit the rate at which ICMPv4 or ICMPv6 messages can be generated by the Routing Engine andsent to the Routing Engine, include the appropriate rate limiting statement at the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">[edit system </span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:9px">internet-options</span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">]</span><span style="font-family: Lato-Regular; font-size:10px"> hierarchy level.•For IPv4:<span style="position:absolute; border: black 1px solid; left:106px; top:19958px; width:423px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:19958px; width:443px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit system internet-options]icmpv4-rate-limit bucket-size bucket-size packet-rate packet-rate</span><span style="font-family: Lato-Regular; font-size:10px">•For IPv6:<span style="position:absolute; border: black 1px solid; left:106px; top:20048px; width:423px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:20048px; width:443px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit system internet-options]</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">icmpv6-rate-limit bucket-size bucket-size packet-rate packet-rate</span><span style="font-family: Lato-Bold; font-size:10px">19<span style="position:absolute; border: gray 1px solid; left:0px; top:20258px; width:612px; height:792px;"></span>
<div style="position:absolute; top:20258px;"><a name="25">Page 25</a></div>
</span><span style="font-family: Lato-Bold; font-size:14px">Rate Limit ICMP Error Messages<span style="position:absolute; border: black 1px solid; left:73px; top:20330px; width:0px; height:21px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:20369px; width:601px; height:98px;"></span>
</span><span style="font-family: Lato-Bold; font-size:9px">IN THIS SECTION<span style="position:absolute; border: black 1px solid; left:111px; top:20415px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Why to Rate Limit ICMPv4 and ICMPv6 Error Messages</span><span style="font-family: Lato-Bold; font-size:9px">  |  20<span style="position:absolute; border: black 1px solid; left:114px; top:20422px; width:0px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:111px; top:20434px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">How to Rate Limit ICMPv4 and ICMPv6 Error Messages</span><span style="font-family: Lato-Bold; font-size:9px">  |  21</span><span style="font-family: Lato-Regular; font-size:10px">By default, ICMP error messages for non-TTL-expired IPv4 and IPv6 packets are generated at the rate of1 packet per second (pps). You can adjust this rate to a value that you decide provides sufficient</span><span style="font-family: Lato-Regular; font-size:9px">information for your network without causing network congestion.<span style="position:absolute; border: black 1px solid; left:83px; top:20554px; width:457px; height:49px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:20554px; width:15px; height:15px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:20554px; width:15px; height:15px;"></span>
<span style="position:absolute; border: black 1px solid; left:101px; top:20566px; width:14px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:101px; top:20566px; width:14px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:106px; top:20571px; width:4px; height:7px;"></span>
<span style="position:absolute; border: black 1px solid; left:108px; top:20568px; width:1px; height:2px;"></span>
<span style="position:absolute; border: black 1px solid; left:106px; top:20571px; width:4px; height:7px;"></span>
<span style="position:absolute; border: black 1px solid; left:108px; top:20568px; width:1px; height:2px;"></span>
</span><span style="font-family: Lato-Bold; font-size:10px">NOTE</span><span style="font-family: Lato-Regular; font-size:10px">: For TTL-expired IPv4 or IPv6 packets, the rate for ICMP error messages is notconfigurable. It is fixed at 500 pps.</span><span style="font-family: Lato-Bold; font-size:12px">Why to Rate Limit ICMPv4 and ICMPv6 Error Messages</span><span style="font-family: Lato-Regular; font-size:10px">An example use case for adjusting the rate limit is a data center providing web services. Suppose thisdata center has many servers on the network that use jumbo frames with an MTU of 9100 bytes whenthey communicate to hosts over the Internet. These other hosts require an MTU of 1500 bytes. Unlessmaximum segment size (MSS) is enforced on both sides of the connection, a server might reply with apacket that is too large to be transmitted across the Internet without being fragmented when it reachesthe edge router in the data center.Because TCP/IP implementations often have Path MTU Discovery enabled by default with the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">dont-fragment</span><span style="font-family: Lato-Regular; font-size:10px"> bit set to 1, a transit device will drop a packet that is too big rather than fragmenting it. Thedevice will return an ICMP error message indicating the destination was unreachable because the packetwas too big. The message will also provide the MTU that is required where the error occurred. Thesending host should adjust the sending MSS for that connection and resend the data in smaller packetsizes to avoid the fragmentation issue.At high core interface speeds, the default rate limit of 1 pps for the error messages may not be enoughto notify all the hosts when there are many hosts in the network that require this service. Theconsequence is that outbound packets are silently dropped. This action can trigger additionalretransmissions or back-off behaviors, depending on the volume of requests that the data center edgerouter is handling on each core-facing interface.In this situation, you can increase the rate limit to enable a higher volume of oversized packets to reachthe sending hosts. (Adding more core-facing interfaces can also help resolve the problem.)</span><span style="font-family: Lato-Bold; font-size:10px">20<span style="position:absolute; border: gray 1px solid; left:0px; top:21100px; width:612px; height:792px;"></span>
<div style="position:absolute; top:21100px;"><a name="26">Page 26</a></div>
</span><span style="font-family: Lato-Bold; font-size:12px">How to Rate Limit ICMPv4 and ICMPv6 Error Messages</span><span style="font-family: Lato-Regular; font-size:10px">Although you configure the rate limit at the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">[edit chassis]</span><span style="font-family: Lato-Regular; font-size:10px"> hierarchy level, it is not a chassis-wide limit.Instead, the rate limit applies per interface family. This means, for example, that multiple physicalinterfaces configured with </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">family inet</span><span style="font-family: Lato-Regular; font-size:10px"> can simultaneously generate the ICMP error messages at theconfigured rate.<span style="position:absolute; border: black 1px solid; left:83px; top:21274px; width:457px; height:49px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:21274px; width:15px; height:15px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:21274px; width:15px; height:15px;"></span>
<span style="position:absolute; border: black 1px solid; left:101px; top:21286px; width:14px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:101px; top:21286px; width:14px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:106px; top:21291px; width:4px; height:7px;"></span>
<span style="position:absolute; border: black 1px solid; left:108px; top:21288px; width:1px; height:2px;"></span>
<span style="position:absolute; border: black 1px solid; left:106px; top:21291px; width:4px; height:7px;"></span>
<span style="position:absolute; border: black 1px solid; left:108px; top:21288px; width:1px; height:2px;"></span>
</span><span style="font-family: Lato-Bold; font-size:10px">NOTE</span><span style="font-family: Lato-Regular; font-size:10px">: This rate limit takes effect only for traffic that lasts 10 seconds or longer. The ratelimit is not applied to traffic with a shorter duration, such as 5 seconds or 9 seconds.•To configure the rate limit for ICMPv4, use the </span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:9px">icmp</span><span style="font-family: InconsolataCondensed-Regular; font-size:10px"> </span><span style="font-family: Lato-Regular; font-size:10px">statement:<span style="position:absolute; border: black 1px solid; left:106px; top:21364px; width:423px; height:49px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:21364px; width:443px; height:49px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit chassis]user@host# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set icmp rate-limit rate-limit</span><span style="font-family: Lato-Regular; font-size:10px">Starting in Junos OS Release 19.1R1, the maximum rate increased from 50 pps to 1000 pps.•To configure the rate limit for ICMPv6, use the </span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:9px">icmp6</span><span style="font-family: InconsolataCondensed-Regular; font-size:10px"> </span><span style="font-family: Lato-Regular; font-size:10px">statement:<span style="position:absolute; border: black 1px solid; left:106px; top:21476px; width:423px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:21476px; width:443px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit chassis]user@host# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set icmp6 rate-limit rate-limit</span><span style="font-family: Lato-Regular; font-size:10px">You must also consider that the rate limit value can interact with your DDoS protection configuration.The default bandwidth value for exceptioned packets that exceed the MTU is 250 pps. DDoS protectionflags a violation when the number of packets exceeds that value. If you set the rate limit higher than thecurrent </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">mtu-exceeded</span><span style="font-family: Lato-Regular; font-size:10px"> bandwidth value, then you must configure the bandwidth value to match the ratelimit.For example, suppose you set the ICMP rate limit to 300 pps:<span style="position:absolute; border: black 1px solid; left:92px; top:21650px; width:438px; height:35px;"></span>
<span style="position:absolute; border: black 1px solid; left:82px; top:21650px; width:458px; height:35px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">user@host# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set chassis icmp rate-limit 300</span><span style="font-family: Lato-Regular; font-size:10px">You must configure the DDoS protection </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">mtu-exceeded </span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:9px">bandwidth</span><span style="font-family: Lato-Regular; font-size:10px"> to match that value.<span style="position:absolute; border: black 1px solid; left:92px; top:21721px; width:438px; height:35px;"></span>
<span style="position:absolute; border: black 1px solid; left:82px; top:21721px; width:458px; height:35px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">user@host# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set system ddos-protection protocols exceptions mtu-exceeded bandwidth 300</span><span style="font-family: Lato-Bold; font-size:10px">21<span style="position:absolute; border: gray 1px solid; left:0px; top:21942px; width:612px; height:792px;"></span>
<div style="position:absolute; top:21942px;"><a name="27">Page 27</a></div>
</span><span style="font-family: Lato-Bold; font-size:20px">Alarms<span style="position:absolute; border: black 1px solid; left:72px; top:22068px; width:612px; height:117px;"></span>
</span><span style="font-family: Lato-Bold; font-size:9px">IN THIS SECTION<span style="position:absolute; border: black 1px solid; left:89px; top:22114px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">System Alarms</span><span style="font-family: Lato-Bold; font-size:9px">  |  22<span style="position:absolute; border: black 1px solid; left:92px; top:22121px; width:0px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:89px; top:22133px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Configuring Junos OS to Determine Conditions That Trigger Alarms on Different Interface Types</span><span style="font-family: Lato-Bold; font-size:9px">  |  23<span style="position:absolute; border: black 1px solid; left:92px; top:22140px; width:0px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:89px; top:22152px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">System-Wide Alarms and Alarms for Each Interface Type</span><span style="font-family: Lato-Bold; font-size:9px">  |  23</span><span style="font-family: Lato-Bold; font-size:14px">System Alarms<span style="position:absolute; border: black 1px solid; left:73px; top:22223px; width:0px; height:21px;"></span>
</span><span style="font-family: Lato-Regular; font-size:10px">Switches provide predefined system alarms that can be triggered by a missing rescue configuration,failure to install a license for a licensed software feature, or high disk usage. You can display alarmmessages by issuing the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">show system alarms</span><span style="font-family: Lato-Regular; font-size:10px"> operational mode command.For example: The switch might trigger an alarm when disk usage in the </span><span style="font-family: Lato-Bold; font-size:10px">/var</span><span style="font-family: Lato-Regular; font-size:10px"> partition exceeds 75percent. A usage level between 76 and 90 percent indicates high usage and raises a minor alarmcondition, whereas a usage level above 90 percent indicates that the partition is full and raises a majoralarm condition.The following sample output shows the system alarm messages that are displayed when disk usage isexceeded on the switch.<span style="position:absolute; border: black 1px solid; left:92px; top:22430px; width:438px; height:140px;"></span>
<span style="position:absolute; border: black 1px solid; left:82px; top:22430px; width:458px; height:140px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">user@host&gt; show system alarms</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:9px">4 alarms currently active</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">Alarm time               Class  Description2013-10-08 20:08:20 UTC  Minor  RE 0 /var partition usage is high2013-10-08 20:08:20 UTC  Major  RE 0 /var partition is full2013-10-08 20:08:08 UTC  Minor  FPC 1 /var partition usage is high2013-10-08 20:08:08 UTC  Major  FPC 1 /var partition is full<span style="position:absolute; border: black 1px solid; left:83px; top:22580px; width:457px; height:64px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:22580px; width:15px; height:15px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:22580px; width:15px; height:15px;"></span>
<span style="position:absolute; border: black 1px solid; left:101px; top:22592px; width:14px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:101px; top:22592px; width:14px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:106px; top:22600px; width:4px; height:5px;"></span>
<span style="position:absolute; border: black 1px solid; left:106px; top:22600px; width:4px; height:5px;"></span>
<span style="position:absolute; border: black 1px solid; left:104px; top:22593px; width:8px; height:8px;"></span>
<span style="position:absolute; border: black 1px solid; left:106px; top:22595px; width:4px; height:4px;"></span>
</span><span style="font-family: Lato-Bold; font-size:10px">BEST PRACTICE</span><span style="font-family: Lato-Regular; font-size:10px">: We recommend that you regularly request a system file storagecleanup to optimize the performance of the switch and prevent generating systemalarms.</span><span style="font-family: Lato-Bold; font-size:10px">22<span style="position:absolute; border: gray 1px solid; left:0px; top:22784px; width:612px; height:792px;"></span>
<div style="position:absolute; top:22784px;"><a name="28">Page 28</a></div>
</span><span style="font-family: Lato-Bold; font-size:14px">Configuring Junos OS to Determine Conditions That Trigger Alarms onDifferent Interface Types<span style="position:absolute; border: black 1px solid; left:73px; top:22856px; width:0px; height:42px;"></span>
</span><span style="font-family: Lato-Regular; font-size:10px">For the different types of PICs, you can configure which conditions trigger alarms and whether theytrigger a red or yellow alarm. Red alarm conditions light the RED ALARM LED and trigger an audiblealarm if one is connected. Yellow alarm conditions light the YELLOW ALARM LED and trigger an audiblealarm if one is connected.<span style="position:absolute; border: black 1px solid; left:83px; top:22986px; width:457px; height:49px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:22986px; width:15px; height:15px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:22986px; width:15px; height:15px;"></span>
<span style="position:absolute; border: black 1px solid; left:101px; top:22998px; width:14px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:101px; top:22998px; width:14px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:106px; top:23003px; width:4px; height:7px;"></span>
<span style="position:absolute; border: black 1px solid; left:108px; top:23000px; width:1px; height:2px;"></span>
<span style="position:absolute; border: black 1px solid; left:106px; top:23003px; width:4px; height:7px;"></span>
<span style="position:absolute; border: black 1px solid; left:108px; top:23000px; width:1px; height:2px;"></span>
</span><span style="font-family: Lato-Bold; font-size:10px">NOTE</span><span style="font-family: Lato-Regular; font-size:10px">: By default, any failure condition on the integrated-services interface (AdaptiveServices PIC) triggers a red alarm.To configure conditions that trigger alarms and that can occur on any interface of the specified type,include the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">alarm</span><span style="font-family: Lato-Regular; font-size:10px"> statement at the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">[edit chassis]</span><span style="font-family: Lato-Regular; font-size:10px"> hierarchy level.<span style="position:absolute; border: black 1px solid; left:92px; top:23091px; width:438px; height:110px;"></span>
<span style="position:absolute; border: black 1px solid; left:82px; top:23091px; width:458px; height:110px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit chassis]</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:9px">alarm</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px"> {    interface-type {        alarm-name (red | yellow | ignore);    }}</span><span style="font-family: Lato-Regular; font-size:10px">alarm-name is the name of an alarm.</span><span style="font-family: Lato-Bold; font-size:14px">System-Wide Alarms and Alarms for Each Interface Type<span style="position:absolute; border: black 1px solid; left:73px; top:23260px; width:0px; height:21px;"></span>
</span><span style="font-family: Lato-Regular; font-size:10px">Table 1 on page 23 lists the system-wide alarms and the alarms for each interface type.</span><span style="font-family: Lato-Bold; font-size:10px">Table 1: Configurable PIC Alarm Conditions<span style="position:absolute; border: black 1px solid; left:83px; top:23345px; width:117px; height:35px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:23345px; width:223px; height:35px;"></span>
<span style="position:absolute; border: black 1px solid; left:426px; top:23345px; width:113px; height:35px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Interface/SystemAlarm ConditionConfiguration OptionSONET/SDH and ATMLink alarm indication signalais-lPath alarm indication signalais-pSignal degrade (SD)ber-sd<span style="position:absolute; border: black 1px solid; left:201px; top:23345px; width:0px; height:35px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:23345px; width:0px; height:35px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:23380px; width:0px; height:109px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:23489px; width:118px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:23380px; width:0px; height:36px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:23416px; width:224px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:23416px; width:114px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:23416px; width:0px; height:37px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:23453px; width:224px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:23453px; width:114px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:23453px; width:0px; height:37px;"></span>
<span style="position:absolute; border: black 1px solid; left:200px; top:23489px; width:224px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:23489px; width:114px; height:0px;"></span>
</span><span style="font-family: Lato-Bold; font-size:10px">23<span style="position:absolute; border: gray 1px solid; left:0px; top:23626px; width:612px; height:792px;"></span>
<div style="position:absolute; top:23626px;"><a name="29">Page 29</a></div>
<span style="position:absolute; border: black 1px solid; left:83px; top:23718px; width:117px; height:35px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:23718px; width:223px; height:35px;"></span>
<span style="position:absolute; border: black 1px solid; left:426px; top:23718px; width:113px; height:35px;"></span>
Table 1: Configurable PIC Alarm Conditions (Continued)</span><span style="font-family: Lato-Regular; font-size:9px">Interface/SystemAlarm ConditionConfiguration OptionSignal fail (SF)ber-sfLoss of cell delineation (ATM only)locdLoss of framinglofLoss of lightlolLoss of pointerlop-pLoss of signallosPhase-locked loop out of lockpllSynchronous transport signal (STS) payload label (C2)mismatchplm-pLine remote failure indicationrfi-lPath remote failure indicationrfi-pSTS path (C2) unequippeduneq-pE3/T3Alarm indicator signalaisExcessive numbers of zerosexzFailure of the far endferfIdle alarmidle<span style="position:absolute; border: black 1px solid; left:201px; top:23718px; width:0px; height:35px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:23718px; width:0px; height:35px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:23753px; width:0px; height:415px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:24168px; width:118px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:23753px; width:0px; height:36px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:23789px; width:224px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:23789px; width:114px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:23789px; width:0px; height:37px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:23826px; width:224px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:23826px; width:114px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:23825px; width:0px; height:37px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:23862px; width:224px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:23862px; width:114px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:23862px; width:0px; height:37px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:23899px; width:224px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:23899px; width:114px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:23898px; width:0px; height:37px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:23935px; width:224px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:23935px; width:114px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:23935px; width:0px; height:37px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:23972px; width:224px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:23972px; width:114px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:23971px; width:0px; height:37px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:24008px; width:224px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24008px; width:114px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24008px; width:0px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:24058px; width:224px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24058px; width:114px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24058px; width:0px; height:37px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:24095px; width:224px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24095px; width:114px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24094px; width:0px; height:37px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:24131px; width:224px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24131px; width:114px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24131px; width:0px; height:37px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:24168px; width:224px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24168px; width:114px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:24167px; width:0px; height:146px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:24314px; width:118px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24167px; width:0px; height:37px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:24204px; width:224px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24204px; width:114px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24204px; width:0px; height:37px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:24241px; width:224px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24241px; width:114px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24240px; width:0px; height:37px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:24277px; width:224px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24277px; width:114px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24277px; width:0px; height:37px;"></span>
<span style="position:absolute; border: black 1px solid; left:200px; top:24314px; width:224px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24314px; width:114px; height:0px;"></span>
</span><span style="font-family: Lato-Bold; font-size:10px">24<span style="position:absolute; border: gray 1px solid; left:0px; top:24468px; width:612px; height:792px;"></span>
<div style="position:absolute; top:24468px;"><a name="30">Page 30</a></div>
<span style="position:absolute; border: black 1px solid; left:83px; top:24560px; width:117px; height:35px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:24560px; width:223px; height:35px;"></span>
<span style="position:absolute; border: black 1px solid; left:426px; top:24560px; width:113px; height:35px;"></span>
Table 1: Configurable PIC Alarm Conditions (Continued)</span><span style="font-family: Lato-Regular; font-size:9px">Interface/SystemAlarm ConditionConfiguration OptionLine code violationlcvLoss of framelofLoss of signallosPhase-locked loop out of lockpllYellow alarmylwEthernetLink has gone downlink-downDS1Alarm indicator signalaisYellow alarmylwIntegrated servicesHardware or software failurefailureManagement EthernetLink has gone downlink-down<span style="position:absolute; border: black 1px solid; left:201px; top:24560px; width:0px; height:35px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24560px; width:0px; height:35px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:24595px; width:0px; height:182px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:24777px; width:118px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24595px; width:0px; height:36px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:24631px; width:224px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24631px; width:114px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24631px; width:0px; height:37px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:24668px; width:224px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24668px; width:114px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24667px; width:0px; height:37px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:24704px; width:224px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24704px; width:114px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24704px; width:0px; height:37px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:24741px; width:224px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24741px; width:114px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24740px; width:0px; height:37px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:24777px; width:224px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24777px; width:114px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:24777px; width:0px; height:37px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:24814px; width:118px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24777px; width:0px; height:37px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:24814px; width:224px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24814px; width:114px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:24813px; width:0px; height:37px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:24850px; width:118px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24813px; width:0px; height:37px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:24850px; width:224px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24850px; width:114px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:24850px; width:0px; height:37px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:24887px; width:118px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24850px; width:0px; height:37px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:24887px; width:224px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24887px; width:114px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:24886px; width:0px; height:37px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:24923px; width:118px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24886px; width:0px; height:37px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:24923px; width:224px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24923px; width:114px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:24923px; width:0px; height:37px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:24960px; width:118px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24923px; width:0px; height:37px;"></span>
<span style="position:absolute; border: black 1px solid; left:201px; top:24960px; width:224px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:425px; top:24960px; width:114px; height:0px;"></span>
</span><span style="font-family: Lato-Regular; font-size:10px">RELATED DOCUMENTATIONChassis Conditions That Trigger Alarms<span style="position:absolute; border: black 1px solid; left:96px; top:25045px; width:443px; height:0px;"></span>
Alarm Types and Severity Levels<span style="position:absolute; border: black 1px solid; left:96px; top:25064px; width:443px; height:0px;"></span>
Network Management and Monitoring Guide<span style="position:absolute; border: black 1px solid; left:96px; top:25083px; width:443px; height:0px;"></span>
Freeing Up System Storage Space<span style="position:absolute; border: black 1px solid; left:96px; top:25102px; width:443px; height:0px;"></span>
show system alarms<span style="position:absolute; border: black 1px solid; left:84px; top:25029px; width:0px; height:92px;"></span>
</span><span style="font-family: Lato-Bold; font-size:10px">25<span style="position:absolute; border: gray 1px solid; left:0px; top:25310px; width:612px; height:792px;"></span>
<div style="position:absolute; top:25310px;"><a name="31">Page 31</a></div>
</span><span style="font-family: Lato-Bold; font-size:20px">System Troubleshooting<span style="position:absolute; border: black 1px solid; left:72px; top:25436px; width:612px; height:98px;"></span>
</span><span style="font-family: Lato-Bold; font-size:9px">IN THIS SECTION<span style="position:absolute; border: black 1px solid; left:89px; top:25482px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Saving Core Files Generated by Junos OS Processes</span><span style="font-family: Lato-Bold; font-size:9px">  |  26<span style="position:absolute; border: black 1px solid; left:92px; top:25489px; width:0px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:89px; top:25501px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Viewing Core Files from Junos OS Processes</span><span style="font-family: Lato-Bold; font-size:9px">  |  27</span><span style="font-family: Lato-Bold; font-size:14px">Saving Core Files Generated by Junos OS Processes<span style="position:absolute; border: black 1px solid; left:73px; top:25572px; width:0px; height:21px;"></span>
</span><span style="font-family: Lato-Regular; font-size:10px">By default, when an internal Junos OS process generates a core file, the file and associated contextinformation are saved for debugging purposes in a compressed tar file named /var/tmp/process-name.core.core-number.tgz. The contextual information includes the configuration and system logmessage files.•To disable the saving of core files and associated context information:<span style="position:absolute; border: black 1px solid; left:106px; top:25710px; width:423px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:25710px; width:443px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit system]no-</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:9px">saved-core-context</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">;</span><span style="font-family: Lato-Regular; font-size:10px">•To save the core files only:<span style="position:absolute; border: black 1px solid; left:106px; top:25800px; width:423px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:25800px; width:443px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit system]</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:9px">saved-core-files</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px"> number;</span><span style="font-family: Lato-Regular; font-size:10px">Where number is the number of core files to save and can be a value from 1 through 10.•To save the core files along with the contextual information:<span style="position:absolute; border: black 1px solid; left:106px; top:25911px; width:423px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:25911px; width:443px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit system]</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:9px">saved-core-context</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">;</span><span style="font-family: Lato-Bold; font-size:10px">26<span style="position:absolute; border: gray 1px solid; left:0px; top:26152px; width:612px; height:792px;"></span>
<div style="position:absolute; top:26152px;"><a name="32">Page 32</a></div>
</span><span style="font-family: Lato-Bold; font-size:14px">Viewing Core Files from Junos OS Processes<span style="position:absolute; border: black 1px solid; left:73px; top:26224px; width:0px; height:21px;"></span>
</span><span style="font-family: Lato-Regular; font-size:10px">When an internal Junos OS process generates a core file, you can find the output at </span><span style="font-family: Lato-Bold; font-size:10px">/var/crash/</span><span style="font-family: Lato-Regular; font-size:10px">and </span><span style="font-family: Lato-Bold; font-size:10px">/var/tmp/</span><span style="font-family: Lato-Regular; font-size:10px">. For Junos OS Evolved, you can find the output core files at </span><span style="font-family: Lato-Bold; font-size:10px">/var/core/</span><span style="font-family: Lato-Regular; font-size:10px"> for RoutingEngine core files and </span><span style="font-family: Lato-Bold; font-size:10px">/var/lib/ftp/in/</span><span style="font-family: Lato-Regular; font-size:10px"> for FPC core files. Using these directories provides a quick methodof finding core issues across large networks.Use the CLI command </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">show system core-dumps</span><span style="font-family: Lato-Regular; font-size:10px"> to view core files.<span style="position:absolute; border: black 1px solid; left:92px; top:26362px; width:438px; height:80px;"></span>
<span style="position:absolute; border: black 1px solid; left:82px; top:26362px; width:458px; height:80px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">root@host&gt; </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">show system core-dumps</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">-rw-------  1 root  wheel  268369920 Jun 18 17:59 /var/crash/vmcore.0-rw-rw----  1 root  field    3371008 Jun 18 17:53 /var/tmp/rpd.core.0</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">-rw-r--r--  1 root  wheel   27775914 Jun 18 17:59 /var/crash/kernel.0</span><span style="font-family: Lato-Regular; font-size:10px">SEE ALSOSaving Core Files from Junos OS Processes<span style="position:absolute; border: black 1px solid; left:84px; top:26501px; width:0px; height:16px;"></span>
RELATED DOCUMENTATIONDay One: Monitoring and Troubleshooting<span style="position:absolute; border: black 1px solid; left:84px; top:26576px; width:0px; height:16px;"></span>
</span><span style="font-family: Lato-Bold; font-size:20px">Device Monitoring<span style="position:absolute; border: black 1px solid; left:72px; top:26682px; width:612px; height:136px;"></span>
</span><span style="font-family: Lato-Bold; font-size:9px">IN THIS SECTION<span style="position:absolute; border: black 1px solid; left:89px; top:26729px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Monitoring System Properties</span><span style="font-family: Lato-Bold; font-size:9px">  |  28<span style="position:absolute; border: black 1px solid; left:92px; top:26735px; width:0px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:89px; top:26748px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Monitoring System Process Information</span><span style="font-family: Lato-Bold; font-size:9px">  |  31<span style="position:absolute; border: black 1px solid; left:92px; top:26754px; width:0px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:89px; top:26767px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Monitor Interfaces</span><span style="font-family: Lato-Bold; font-size:9px">  |  32<span style="position:absolute; border: black 1px solid; left:92px; top:26773px; width:0px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:89px; top:26786px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Other Tools to Configure and Monitor Devices Running Junos OS</span><span style="font-family: Lato-Bold; font-size:9px">  |  34</span><span style="font-family: Lato-Bold; font-size:10px">27<span style="position:absolute; border: gray 1px solid; left:0px; top:26994px; width:612px; height:792px;"></span>
<div style="position:absolute; top:26994px;"><a name="33">Page 33</a></div>
</span><span style="font-family: Lato-Bold; font-size:14px">Monitoring System Properties<span style="position:absolute; border: black 1px solid; left:73px; top:27066px; width:0px; height:21px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:27105px; width:601px; height:117px;"></span>
</span><span style="font-family: Lato-Bold; font-size:9px">IN THIS SECTION<span style="position:absolute; border: black 1px solid; left:111px; top:27151px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Purpose</span><span style="font-family: Lato-Bold; font-size:9px">  |  28<span style="position:absolute; border: black 1px solid; left:114px; top:27158px; width:0px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:111px; top:27170px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Action</span><span style="font-family: Lato-Bold; font-size:9px">  |  28<span style="position:absolute; border: black 1px solid; left:114px; top:27177px; width:0px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:111px; top:27189px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Meaning</span><span style="font-family: Lato-Bold; font-size:9px">  |  28</span><span style="font-family: Lato-Bold; font-size:12px">Purpose</span><span style="font-family: Lato-Regular; font-size:10px">View system properties such as the name, IP address, and resource usage.</span><span style="font-family: Lato-Bold; font-size:12px">Action</span><span style="font-family: Lato-Regular; font-size:10px">To monitor system properties in the CLI, enter the following commands:•show system uptime•show system users•show system storage</span><span style="font-family: Lato-Bold; font-size:12px">Meaning</span><span style="font-family: Lato-Regular; font-size:10px">Table 2 on page 28 summarizes key output fields in the system properties display.</span><span style="font-family: Lato-Bold; font-size:10px">Table 2: Summary of Key System Properties Output Fields<span style="position:absolute; border: black 1px solid; left:83px; top:27534px; width:73px; height:35px;"></span>
<span style="position:absolute; border: black 1px solid; left:156px; top:27534px; width:190px; height:35px;"></span>
<span style="position:absolute; border: black 1px solid; left:346px; top:27534px; width:193px; height:35px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">FieldValuesAdditional InformationGeneral InformationSerial NumberSerial number of device.Junos OSVersionVersion of Junos OS active on the switch,including whether the software is fordomestic or export use.Export software is for use outside the USAand Canada.<span style="position:absolute; border: black 1px solid; left:83px; top:27599px; width:456px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:27636px; width:73px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:156px; top:27636px; width:190px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:346px; top:27636px; width:193px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:27699px; width:73px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:156px; top:27699px; width:190px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:346px; top:27699px; width:193px; height:0px;"></span>
</span><span style="font-family: Lato-Bold; font-size:10px">28<span style="position:absolute; border: gray 1px solid; left:0px; top:27836px; width:612px; height:792px;"></span>
<div style="position:absolute; top:27836px;"><a name="34">Page 34</a></div>
<span style="position:absolute; border: black 1px solid; left:83px; top:27928px; width:73px; height:35px;"></span>
<span style="position:absolute; border: black 1px solid; left:156px; top:27928px; width:190px; height:35px;"></span>
<span style="position:absolute; border: black 1px solid; left:346px; top:27928px; width:193px; height:35px;"></span>
Table 2: Summary of Key System Properties Output Fields (Continued)</span><span style="font-family: Lato-Regular; font-size:9px">FieldValuesAdditional InformationHostnameName of the device.IP AddressIP address of the device.LoopbackAddressLoopback address.Domain Name</span><span style="font-family: Lato-Regular; font-size:8px">Server</span><span style="font-family: Lato-Regular; font-size:9px">Address of the domain name server.Time ZoneTime zone on the device.TimeCurrent TimeCurrent system time, in CoordinatedUniversal Time (UTC).System BootedTimeDate and time when the device was lastbooted and how long it has been running.ProtocolStarted TimeDate and time when the protocols were laststarted and how long they have beenrunning.Last ConfiguredTimeDate and time when a configuration was lastcommitted. This field also shows the name ofthe user who issued the last </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">commit</span><span style="font-family: Lato-Regular; font-size:9px"> command.Load AverageCPU load average for 1, 5, and 15 minutes.Storage Media<span style="position:absolute; border: black 1px solid; left:83px; top:27999px; width:73px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:156px; top:27999px; width:190px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:346px; top:27999px; width:193px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:28036px; width:73px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:156px; top:28036px; width:190px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:346px; top:28036px; width:193px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:28086px; width:73px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:156px; top:28086px; width:190px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:346px; top:28086px; width:193px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:28136px; width:73px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:156px; top:28136px; width:190px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:346px; top:28136px; width:193px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:28172px; width:73px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:156px; top:28172px; width:190px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:346px; top:28172px; width:193px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:28203px; width:456px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:28253px; width:73px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:156px; top:28253px; width:190px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:346px; top:28253px; width:193px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:28303px; width:73px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:156px; top:28303px; width:190px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:346px; top:28303px; width:193px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:28366px; width:73px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:156px; top:28366px; width:190px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:346px; top:28366px; width:193px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:28431px; width:73px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:156px; top:28431px; width:190px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:346px; top:28431px; width:193px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:28467px; width:73px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:156px; top:28467px; width:190px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:346px; top:28467px; width:193px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:28498px; width:456px; height:0px;"></span>
</span><span style="font-family: Lato-Bold; font-size:10px">29<span style="position:absolute; border: gray 1px solid; left:0px; top:28678px; width:612px; height:792px;"></span>
<div style="position:absolute; top:28678px;"><a name="35">Page 35</a></div>
<span style="position:absolute; border: black 1px solid; left:83px; top:28770px; width:73px; height:35px;"></span>
<span style="position:absolute; border: black 1px solid; left:156px; top:28770px; width:190px; height:35px;"></span>
<span style="position:absolute; border: black 1px solid; left:346px; top:28770px; width:193px; height:35px;"></span>
Table 2: Summary of Key System Properties Output Fields (Continued)</span><span style="font-family: Lato-Regular; font-size:9px">FieldValuesAdditional InformationInternal FlashMemoryUsage details of internal flash memory.External FlashMemoryUsage details of external USB flash memory.Logged in Users DetailsUserUsername of any user logged in to the switch.TerminalTerminal through which the user is logged in.FromSystem from which the user has logged in. Ahyphen indicates that the user is logged inthrough the console.Login TimeTime when the user logged in.This is the user@switch field in </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">show systemusers</span><span style="font-family: Lato-Regular; font-size:9px"> command output.Idle TimeHow long the user has been idle.<span style="position:absolute; border: black 1px solid; left:83px; top:28855px; width:73px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:156px; top:28855px; width:190px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:346px; top:28855px; width:193px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:28905px; width:73px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:156px; top:28905px; width:190px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:346px; top:28905px; width:193px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:28935px; width:456px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:28972px; width:73px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:156px; top:28972px; width:190px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:346px; top:28972px; width:193px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:29008px; width:73px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:156px; top:29008px; width:190px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:346px; top:29008px; width:193px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:29072px; width:73px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:156px; top:29072px; width:190px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:346px; top:29072px; width:193px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:29124px; width:73px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:156px; top:29124px; width:190px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:346px; top:29124px; width:193px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:29160px; width:73px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:156px; top:29160px; width:190px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:346px; top:29160px; width:193px; height:0px;"></span>
</span><span style="font-family: Lato-Regular; font-size:10px">SEE ALSOshow system processes<span style="position:absolute; border: black 1px solid; left:84px; top:29229px; width:0px; height:16px;"></span>
</span><span style="font-family: Lato-Bold; font-size:10px">30<span style="position:absolute; border: gray 1px solid; left:0px; top:29520px; width:612px; height:792px;"></span>
<div style="position:absolute; top:29520px;"><a name="36">Page 36</a></div>
</span><span style="font-family: Lato-Bold; font-size:14px">Monitoring System Process Information<span style="position:absolute; border: black 1px solid; left:73px; top:29592px; width:0px; height:21px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:29631px; width:601px; height:117px;"></span>
</span><span style="font-family: Lato-Bold; font-size:9px">IN THIS SECTION<span style="position:absolute; border: black 1px solid; left:111px; top:29677px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Purpose</span><span style="font-family: Lato-Bold; font-size:9px">  |  31<span style="position:absolute; border: black 1px solid; left:114px; top:29684px; width:0px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:111px; top:29696px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Action</span><span style="font-family: Lato-Bold; font-size:9px">  |  31<span style="position:absolute; border: black 1px solid; left:114px; top:29703px; width:0px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:111px; top:29715px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Meaning</span><span style="font-family: Lato-Bold; font-size:9px">  |  31</span><span style="font-family: Lato-Bold; font-size:12px">Purpose</span><span style="font-family: Lato-Regular; font-size:10px">View the processes running on the device.</span><span style="font-family: Lato-Bold; font-size:12px">Action</span><span style="font-family: Lato-Regular; font-size:10px">To view the software processes running on the device:user@switch&gt; show system processes</span><span style="font-family: Lato-Bold; font-size:12px">Meaning</span><span style="font-family: Lato-Regular; font-size:10px">Table 3 on page 31 summarizes the output fields in the system process information display.The display includes the total CPU load and total memory utilization.</span><span style="font-family: Lato-Bold; font-size:10px">Table 3: Summary of System Process Information Output Fields<span style="position:absolute; border: black 1px solid; left:83px; top:30034px; width:191px; height:35px;"></span>
<span style="position:absolute; border: black 1px solid; left:274px; top:30034px; width:265px; height:35px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">FieldValuesPIDIdentifier of the process.NameOwner of the process.StateCurrent state of the process.CPU LoadPercentage of the CPU that is being used by the process.<span style="position:absolute; border: black 1px solid; left:83px; top:30105px; width:191px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:274px; top:30105px; width:265px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:30142px; width:191px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:274px; top:30142px; width:265px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:30178px; width:191px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:274px; top:30178px; width:265px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:30215px; width:191px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:274px; top:30215px; width:265px; height:0px;"></span>
</span><span style="font-family: Lato-Bold; font-size:10px">31<span style="position:absolute; border: gray 1px solid; left:0px; top:30362px; width:612px; height:792px;"></span>
<div style="position:absolute; top:30362px;"><a name="37">Page 37</a></div>
<span style="position:absolute; border: black 1px solid; left:83px; top:30454px; width:191px; height:35px;"></span>
<span style="position:absolute; border: black 1px solid; left:274px; top:30454px; width:265px; height:35px;"></span>
Table 3: Summary of System Process Information Output Fields (Continued)</span><span style="font-family: Lato-Regular; font-size:9px">FieldValuesMemory UtilizationAmount of memory that is being used by the process.Start TimeTime of day when the process started.<span style="position:absolute; border: black 1px solid; left:83px; top:30525px; width:191px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:274px; top:30525px; width:265px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:30562px; width:191px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:274px; top:30562px; width:265px; height:0px;"></span>
</span><span style="font-family: Lato-Regular; font-size:10px">SEE ALSO</span><span style="font-family: Lato-Regular; font-size:9px">show system uptime<span style="position:absolute; border: black 1px solid; left:84px; top:30631px; width:0px; height:16px;"></span>
</span><span style="font-family: Lato-Bold; font-size:14px">Monitor Interfaces<span style="position:absolute; border: black 1px solid; left:73px; top:30685px; width:0px; height:21px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:30724px; width:601px; height:98px;"></span>
</span><span style="font-family: Lato-Bold; font-size:9px">IN THIS SECTION<span style="position:absolute; border: black 1px solid; left:111px; top:30770px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Purpose</span><span style="font-family: Lato-Bold; font-size:9px">  |  32<span style="position:absolute; border: black 1px solid; left:114px; top:30777px; width:0px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:111px; top:30789px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Action</span><span style="font-family: Lato-Bold; font-size:9px">  |  32</span><span style="font-family: Lato-Bold; font-size:12px">Purpose</span><span style="font-family: Lato-Regular; font-size:10px">View general information about all physical and logical interfaces for a device.</span><span style="font-family: Lato-Bold; font-size:12px">Action</span><span style="font-family: Lato-Regular; font-size:10px">Enter the following </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">show</span><span style="font-family: Lato-Regular; font-size:10px"> commands in the CLI to view interface status and traffic statistics.•</span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">show interfaces terse<span style="position:absolute; border: black 1px solid; left:97px; top:30999px; width:442px; height:55px;"></span>
<span style="position:absolute; border: black 1px solid; left:97px; top:30999px; width:15px; height:15px;"></span>
<span style="position:absolute; border: black 1px solid; left:97px; top:30999px; width:15px; height:15px;"></span>
<span style="position:absolute; border: black 1px solid; left:115px; top:31012px; width:14px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:115px; top:31012px; width:14px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:120px; top:31017px; width:4px; height:7px;"></span>
<span style="position:absolute; border: black 1px solid; left:123px; top:31015px; width:1px; height:2px;"></span>
<span style="position:absolute; border: black 1px solid; left:120px; top:31017px; width:4px; height:7px;"></span>
<span style="position:absolute; border: black 1px solid; left:123px; top:31015px; width:1px; height:2px;"></span>
</span><span style="font-family: Lato-Bold; font-size:10px">NOTE</span><span style="font-family: Lato-Regular; font-size:10px">: On SRX Series Firewalls, when configuring identical IPs on a single interface, youwill not see a warning message; instead, you will see a syslog message.•</span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">show interfaces extensive</span><span style="font-family: Lato-Bold; font-size:10px">32<span style="position:absolute; border: gray 1px solid; left:0px; top:31204px; width:612px; height:792px;"></span>
<div style="position:absolute; top:31204px;"><a name="38">Page 38</a></div>
</span><span style="font-family: Lato-Regular; font-size:10px">•</span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">show interfacesinterface-name<span style="position:absolute; border: black 1px solid; left:83px; top:31301px; width:457px; height:64px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:31301px; width:15px; height:15px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:31301px; width:15px; height:15px;"></span>
<span style="position:absolute; border: black 1px solid; left:101px; top:31313px; width:14px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:101px; top:31313px; width:14px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:106px; top:31318px; width:4px; height:7px;"></span>
<span style="position:absolute; border: black 1px solid; left:108px; top:31315px; width:1px; height:2px;"></span>
<span style="position:absolute; border: black 1px solid; left:106px; top:31318px; width:4px; height:7px;"></span>
<span style="position:absolute; border: black 1px solid; left:108px; top:31315px; width:1px; height:2px;"></span>
</span><span style="font-family: Lato-Bold; font-size:10px">NOTE</span><span style="font-family: Lato-Regular; font-size:10px">: If you are using the J-Web user interfaces, select Monitor&gt;Interfaces in the J-Web user interface. The J-Web Interfaces page displays the following details about eachdevice interface:•Port—Indicates the interface name.•Admin Status—Indicates whether the interface is enabled (Up) or disabled (Down).•Link Status—Indicates whether the interface is linked (Up) or not linked (Down).•Address—Indicates the IP address of the interface.•Zone—Indicates whether the zone is an untrust zone or a trust zone.•Services—Indicates services that are enabled on the device, such as HTTP and SSH.•Protocols—Indicates protocols that are enabled on the device, such as BGP and IGMP.•Input Rate graph—Displays interface bandwidth utilization. Input rates are shown in bytes persecond.•Output Rate graph—Displays interface bandwidth utilization. Output rates are shown in bytes persecond.•Error Counters chart—Displays input and output error counters in the form of a bar chart.•Packet Counters chart—Displays the number of broadcast, unicast, and multicast packet counters inthe form of a pie chart. (Packet counter charts are supported only for interfaces that support MACstatistics.)To change the interface display, use the following options:•Port for FPC—Controls the member for which information is displayed.•Start/Stop button—Starts or stops monitoring the selected interfaces.•Show Graph—Displays input and output packet counters and error counters in the form of charts.•Pop-up button—Displays the interface graphs in a separate pop-up window.•Details—Displays extensive statistics about the selected interface, including its general status, trafficinformation, IP address, I/O errors, class-of-service data, and statistics.•Refresh Interval—Indicates the duration of time after which you want the data on the page to berefreshed.</span><span style="font-family: Lato-Bold; font-size:10px">33<span style="position:absolute; border: gray 1px solid; left:0px; top:32046px; width:612px; height:792px;"></span>
<div style="position:absolute; top:32046px;"><a name="39">Page 39</a></div>
</span><span style="font-family: Lato-Regular; font-size:10px">•Clear Statistics—Clears the statistics for the selected interface.SEE ALSOInterfaces User Guide for Security Devices<span style="position:absolute; border: black 1px solid; left:84px; top:32192px; width:0px; height:16px;"></span>
</span><span style="font-family: Lato-Bold; font-size:14px">Other Tools to Configure and Monitor Devices Running Junos OS<span style="position:absolute; border: black 1px solid; left:73px; top:32246px; width:0px; height:21px;"></span>
</span><span style="font-family: Lato-Regular; font-size:10px">Starting in Junos OS Release 15.1, apart from the command-line interface, Junos OS also supports thefollowing applications, scripts, and utilities that enable you to configure and monitor devices runningJunos OS:•Junos XML Management Protocol Application Programming Interface (API)—Applicationprogrammers can use the Junos XML Management Protocol API to monitor and configure JuniperNetworks devices.•NETCONF Application Programming Interface (API)—Application programmers can also use theNETCONF API to monitor and configure Juniper Networks devices.•Junos OS commit scripts—You can define scripts to enforce custom configuration tasks, enforceconsistency, prevent common mistakes, and more. Every time you commit a new candidateconfiguration, the active commit scripts are called to inspect the new candidate configuration. If aconfiguration violates your custom rules, the script can instruct the Junos OS to perform variousactions, including making changes to the configuration and generating custom, warning, and systemlog messages.•Junos OS Op scripts—You can add your own commands to the operation-mode CLI. You can usethese scripts to automate troubleshooting of known network problems and correct them.•Junos OS event scripts—You can use event scripts to diagnose and fix issues, monitor the overallstatus of the system, and examine errors periodically. Event scripts are similar to op scripts exceptthat certain events on the switch will trigger these scripts.•CHEF—You can use CHEF automate the provisioning and management of compute, networking, andstorage resources. Chef for Junos OS provides support for Chef on selected Junos OS devices,allowing you to automate common switching network configurations.•Puppet—You can use PUPPET for configuration management. Puppet provides an efficient andscalable solution for managing the configurations of large numbers of devices. System administratorstake advantage of Puppet to manage compute resources such as physical and virtual servers.</span><span style="font-family: Lato-Bold; font-size:10px">34<span style="position:absolute; border: gray 1px solid; left:0px; top:32888px; width:612px; height:792px;"></span>
<div style="position:absolute; top:32888px;"><a name="40">Page 40</a></div>
</span><span style="font-family: Lato-Regular; font-size:10px">SEE ALSOCLI User Interface Overview<span style="position:absolute; border: black 1px solid; left:96px; top:32997px; width:443px; height:0px;"></span>
NETCONF XML Management Protocol Developer Guide<span style="position:absolute; border: black 1px solid; left:84px; top:32981px; width:0px; height:35px;"></span>
</span><span style="font-family: Lato-Bold; font-size:10px">Change History Table</span><span style="font-family: Lato-Regular; font-size:10px">Feature support is determined by the platform and release you are using. Use Feature Explorer todetermine if a feature is supported on your platform.<span style="position:absolute; border: black 1px solid; left:72px; top:33072px; width:468px; height:30px;"></span>
<span style="position:absolute; border: black 1px solid; left:72px; top:33072px; width:44px; height:30px;"></span>
<span style="position:absolute; border: black 1px solid; left:117px; top:33072px; width:422px; height:30px;"></span>
ReleaseDescription</span><span style="font-family: Lato-Regular; font-size:9px">15.1Starting in Junos OS Release 15.1, apart from the command-line interface, Junos OS also supports thefollowing applications, scripts, and utilities that enable you to configure and monitor devices runningJunos OS:<span style="position:absolute; border: black 1px solid; left:116px; top:33072px; width:0px; height:30px;"></span>
<span style="position:absolute; border: black 1px solid; left:116px; top:33101px; width:0px; height:59px;"></span>
<span style="position:absolute; border: black 1px solid; left:72px; top:33160px; width:44px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:116px; top:33160px; width:423px; height:0px;"></span>
</span><span style="font-family: Lato-Regular; font-size:10px">RELATED DOCUMENTATIONDay One: Monitoring and Troubleshooting<span style="position:absolute; border: black 1px solid; left:84px; top:33219px; width:0px; height:16px;"></span>
</span><span style="font-family: Lato-Bold; font-size:20px">Passive Monitoring<span style="position:absolute; border: black 1px solid; left:72px; top:33325px; width:612px; height:98px;"></span>
</span><span style="font-family: Lato-Bold; font-size:9px">IN THIS SECTION<span style="position:absolute; border: black 1px solid; left:89px; top:33372px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Understanding Passive Monitoring</span><span style="font-family: Lato-Bold; font-size:9px">  |  35<span style="position:absolute; border: black 1px solid; left:92px; top:33378px; width:0px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:89px; top:33391px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Example: Configuring Passive Monitoring </span><span style="font-family: Lato-Bold; font-size:9px">  |  36</span><span style="font-family: Lato-Bold; font-size:14px">Understanding Passive Monitoring<span style="position:absolute; border: black 1px solid; left:73px; top:33461px; width:0px; height:21px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:33500px; width:601px; height:98px;"></span>
</span><span style="font-family: Lato-Bold; font-size:9px">IN THIS SECTION<span style="position:absolute; border: black 1px solid; left:111px; top:33547px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Passive Monitoring Benefits</span><span style="font-family: Lato-Bold; font-size:9px">  |  36<span style="position:absolute; border: black 1px solid; left:114px; top:33553px; width:0px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:111px; top:33566px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Guidelines for Configuring Passive Monitoring </span><span style="font-family: Lato-Bold; font-size:9px">  |  36</span><span style="font-family: Lato-Bold; font-size:10px">35<span style="position:absolute; border: gray 1px solid; left:0px; top:33730px; width:612px; height:792px;"></span>
<div style="position:absolute; top:33730px;"><a name="41">Page 41</a></div>
</span><span style="font-family: Lato-Regular; font-size:10px">Passive monitoring is a type of network monitoring used to passively capture traffic from monitoringinterfaces. When you enable passive monitoring, the device accepts and monitors traffic on the interfaceand forwards the traffic to monitoring tools like IDS servers and packet analyzers, or other devices suchas routers or end node hosts.</span><span style="font-family: Lato-Bold; font-size:12px">Passive Monitoring Benefits</span><span style="font-family: Lato-Regular; font-size:10px">•Provides filtering capabilities for monitoring ingress and egress traffic at the Internet point ofpresence (PoP) where security networks are attached.</span><span style="font-family: Lato-Bold; font-size:12px">Guidelines for Configuring Passive Monitoring</span><span style="font-family: Lato-Regular; font-size:10px">•You can only configure passive monitoring at the interface level. Configuration per VLAN or logical</span><span style="font-family: Lato-Regular; font-size:9px">interface is not supported.</span><span style="font-family: Lato-Regular; font-size:10px">•A passive monitoring interface cannot be an aggregated Ethernet (AE) interface.•Monitoring tools or devices must be directly connected to the switch or router.•Packets with more than two MPLS labels and more than two VLAN tags are dropped.•Exception packets such as IP packet options, router alert, and TTL expiry packets are treated asregular traffic.•Ethernet encapsulation is not supported.•MPLS family is supported on the PTX10001-36MR, PTX10004, and PTX10008 routers.•Link Aggregation Control Protocol (LACP) is not supported on the AE bundle connected to themonitoring tool or device.</span><span style="font-family: Lato-Bold; font-size:14px">Example: Configuring Passive Monitoring<span style="position:absolute; border: black 1px solid; left:73px; top:34263px; width:0px; height:21px;"></span>
<span style="position:absolute; border: black 1px solid; left:83px; top:34302px; width:601px; height:136px;"></span>
</span><span style="font-family: Lato-Bold; font-size:9px">IN THIS SECTION<span style="position:absolute; border: black 1px solid; left:111px; top:34348px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Requirements</span><span style="font-family: Lato-Bold; font-size:9px">  |  37<span style="position:absolute; border: black 1px solid; left:114px; top:34355px; width:0px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:111px; top:34367px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Overview</span><span style="font-family: Lato-Bold; font-size:9px">  |  37<span style="position:absolute; border: black 1px solid; left:114px; top:34374px; width:0px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:111px; top:34386px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Configuration</span><span style="font-family: Lato-Bold; font-size:9px">  |  38<span style="position:absolute; border: black 1px solid; left:114px; top:34393px; width:0px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:111px; top:34405px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Verification</span><span style="font-family: Lato-Bold; font-size:9px">  |  40<span style="position:absolute; border: black 1px solid; left:114px; top:34412px; width:0px; height:14px;"></span>
</span><span style="font-family: Lato-Bold; font-size:10px">36<span style="position:absolute; border: gray 1px solid; left:0px; top:34572px; width:612px; height:792px;"></span>
<div style="position:absolute; top:34572px;"><a name="42">Page 42</a></div>
<span style="position:absolute; border: black 1px solid; left:83px; top:34644px; width:601px; height:47px;"></span>
<span style="position:absolute; border: black 1px solid; left:111px; top:34658px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Sample Configuration for PTX10001-36MR, PTX10004, and PTX10008 Routers</span><span style="font-family: Lato-Bold; font-size:9px">  |  44</span><span style="font-family: Lato-Regular; font-size:10px">This example shows how to configure passive monitoring on QFX10000 switches.</span><span style="font-family: Lato-Bold; font-size:12px">Requirements</span><span style="font-family: Lato-Regular; font-size:10px">This example uses the following hardware and software components:•Two routers (R1 and R2)•One QFX10002 switch•Two devices, directly connected to the switch•Junos OS Release 18.4R1 or later</span><span style="font-family: Lato-Bold; font-size:12px">Overview<span style="position:absolute; border: black 1px solid; left:83px; top:34928px; width:601px; height:79px;"></span>
</span><span style="font-family: Lato-Bold; font-size:9px">IN THIS SECTION<span style="position:absolute; border: black 1px solid; left:111px; top:34974px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Topology</span><span style="font-family: Lato-Bold; font-size:9px">  |  38</span><span style="font-family: Lato-Regular; font-size:10px">This example describes how to configure passive monitoring on the switch.In Figure 1 on page 38, </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">et-0/0/2</span><span style="font-family: Lato-Regular; font-size:10px"> and </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">et-0/0/4</span><span style="font-family: Lato-Regular; font-size:10px"> are configured as passive monitoring interfaces. Packetscoming into the network are exchanged between Router 1 (R1) and Router 2 (R2) in two directions (R1to R2, R2 to R1) and are sent to the monitored interfaces. When traffic is received, a firewall filtertransfers all packets to a routing instance and forwards the packets to the monitoring tools. Theinterfaces are then grouped into a single logical interface, known as a link aggregation group (LAG) or AEbundle. This enables the traffic to be evenly distributed across the monitoring tools effectivelyincreasing the uplink bandwidth. If one interface fails, the bundle continues to carry traffic over theremaining interfaces.Optionally, you can apply symmetric hashing over the passive monitor interfaces for load balancingtraffic to the monitoring tools. This allows ingress and egress traffic of the same flow to be sent outthrough the same monitored interface. To configure symmetric hashing, include the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">no-incoming-port</span><span style="font-family: Lato-Regular; font-size:10px">option under the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">[edit forwarding-options enhanced-hash-key]</span><span style="font-family: Lato-Regular; font-size:10px"> hierarchy. Symmetric hashing is enabled anddisabled at the global level only. Per protocol hashing is not supported.</span><span style="font-family: Lato-Bold; font-size:10px">37<span style="position:absolute; border: gray 1px solid; left:0px; top:35414px; width:612px; height:792px;"></span>
<div style="position:absolute; top:35414px;"><a name="43">Page 43</a></div>
TopologyFigure 1: Passive Monitoring Topology<div style="position:absolute; border: figure 1px solid; writing-mode:False; left:83px; top:35562px; width:457px; height:100px;"></div></span><span style="font-family: Lato-Bold; font-size:11px">Configuration<span style="position:absolute; border: black 1px solid; left:83px; top:35705px; width:601px; height:98px;"></span>
</span><span style="font-family: Lato-Bold; font-size:9px">IN THIS SECTION<span style="position:absolute; border: black 1px solid; left:111px; top:35752px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">CLI Quick Configuration</span><span style="font-family: Lato-Bold; font-size:9px">  |  38<span style="position:absolute; border: black 1px solid; left:114px; top:35758px; width:0px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:111px; top:35771px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Configuring Passive Monitoring </span><span style="font-family: Lato-Bold; font-size:9px">  |  39</span><span style="font-family: Lato-Regular; font-size:10px">The following example requires you to navigate various levels in the CLI hierarchy. For information aboutnavigating the CLI, see Using the CLI Editor in Configuration Mode.</span><span style="font-family: Lato-Bold; font-size:10px">CLI Quick Configuration</span><span style="font-family: Lato-Regular; font-size:10px">To quickly configure this example, copy the following commands, paste them into a text file, remove anyline breaks, change any details necessary to match your network configuration, copy and paste thecommands into the CLI at the </span><span style="font-family: InconsolataCondensed-Regular; font-size:9px">[edit]</span><span style="font-family: Lato-Regular; font-size:10px"> hierarchy level, and then enter </span><span style="font-family: InconsolataCondensed-Regular; font-size:9px">commit</span><span style="font-family: Lato-Regular; font-size:10px"> from configuration mode.<span style="position:absolute; border: black 1px solid; left:92px; top:35972px; width:438px; height:160px;"></span>
<span style="position:absolute; border: black 1px solid; left:82px; top:35972px; width:458px; height:160px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set interfaces et-0/0/2 passive-monitor-modeset interfaces et-0/0/2 unit 0 family inet filter input pmset interfaces et-0/0/4 passive-monitor-modeset interfaces et-0/0/4 unit 0 family inet filter input pm1 set firewall family inet filter pm1 term t1 from interface et-0/0/4.0set firewall family inet filter pm1 term t1 then count c1 </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set firewall family inet filter pm1 term t1 then routing-instance pm_inst</span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set firewall family inet filter pm term t1 from interface et-0/0/2.0set firewall family inet filter pm term t1 then count c3 set firewall family inet filter pm term t1 then routing-instance pm_inst</span><span style="font-family: Lato-Bold; font-size:10px">38<span style="position:absolute; border: gray 1px solid; left:0px; top:36256px; width:612px; height:792px;"></span>
<div style="position:absolute; top:36256px;"><a name="44">Page 44</a></div>
<span style="position:absolute; border: black 1px solid; left:92px; top:36328px; width:438px; height:145px;"></span>
<span style="position:absolute; border: black 1px solid; left:82px; top:36328px; width:458px; height:145px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set routing-instances pm_inst instance-type virtual-router set routing-instances pm_inst interface ae0.0 set routing-instances pm_inst routing-options static route 0.0.0.0/0 next-hop 198.51.100.1 set interfaces xe-0/0/9:0 ether-options 802.3ad ae0set interfaces xe-0/0/9:1 ether-options 802.3ad ae0set interfaces ae0 unit 0 family inet address 198.51.100.2/24 arp 198.51.100.1 mac 00:10:94:00:00:05 set routing-instances pm_inst interface ae0.0 set forwarding-options enhanced-hash-key inet no-incoming-port</span><span style="font-family: Lato-Bold; font-size:10px">Configuring Passive Monitoring</span><span style="font-family: Lato-Bold; font-size:11px">Step-by-Step Procedure</span><span style="font-family: Lato-Regular; font-size:10px">To configure passive monitoring:1.Configure passive-monitor mode on the switch interfaces:<span style="position:absolute; border: black 1px solid; left:106px; top:36606px; width:424px; height:110px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:36606px; width:444px; height:110px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit]]user@switch# </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set interfaces et-0/0/2 passive-monitor-modeset interfaces et-0/0/2 unit 0 family inet filter input pmset interfaces et-0/0/4 passive-monitor-modeset interfaces et-0/0/4 unit 0 family inet filter input pm1</span><span style="font-family: Lato-Regular; font-size:10px">2.Configure a </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">family inet</span><span style="font-family: Lato-Regular; font-size:10px"> firewall filter on the passive monitor interfaces to forward the traffic to arouting instance. Supported filter actions are </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">accept, reject, count, routing-instance</span><span style="font-family: Lato-Regular; font-size:10px">.<span style="position:absolute; border: black 1px solid; left:106px; top:36772px; width:424px; height:140px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:36772px; width:444px; height:140px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:9px">[edit]</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">user@switch#</span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set firewall family inet filter pm1 term t1 from interface et-0/0/4.0set firewall family inet filter pm1 term t1 then count c1 set firewall family inet filter pm1 term t1 then routing-instance pm_instset firewall family inet filter pm term t1 from interface et-0/0/2.0set firewall family inet filter pm term t1 then count c3 set firewall family inet filter pm term t1 then routing-instance pm_inst</span><span style="font-family: Lato-Bold; font-size:10px">39<span style="position:absolute; border: gray 1px solid; left:0px; top:37098px; width:612px; height:792px;"></span>
<div style="position:absolute; top:37098px;"><a name="45">Page 45</a></div>
</span><span style="font-family: Lato-Regular; font-size:10px">3.Create a routing-instance with a static route that points to the devices.<span style="position:absolute; border: black 1px solid; left:106px; top:37200px; width:424px; height:95px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:37200px; width:444px; height:95px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit]user@switch#</span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set routing-instances pm_inst instance-type virtual-router set routing-instances pm_inst interface ae0.0 set routing-instances pm_inst routing-options static route 0.0.0.0/0 next-hop 198.51.100.1</span><span style="font-family: Lato-Regular; font-size:10px">4.Configure an AE bundle on the passive monitoring interfaces.<span style="position:absolute; border: black 1px solid; left:106px; top:37335px; width:424px; height:125px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:37335px; width:444px; height:125px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit]user@switch#</span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set interfaces xe-0/0/9:0 ether-options 802.3ad ae0set interfaces xe-0/0/9:1 ether-options 802.3ad ae0set interfaces ae0 unit 0 family inet address 198.51.100.2/24 arp 198.51.100.1 mac 00:10:94:00:00:05set routing-instances pm_inst interface ae0.0 </span><span style="font-family: Lato-Regular; font-size:10px">5.(Optional) Configure symmetric hashing.<span style="position:absolute; border: black 1px solid; left:106px; top:37500px; width:424px; height:65px;"></span>
<span style="position:absolute; border: black 1px solid; left:96px; top:37500px; width:444px; height:65px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">[edit]user@switch#</span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set forwarding-options enhanced-hash-key inet no-incoming-port</span><span style="font-family: Lato-Regular; font-size:10px">6.From configuration mode, confirm your configuration by entering the </span><span style="font-family: Lato-Bold; font-size:10px">show interfaces</span><span style="font-family: Lato-Regular; font-size:10px"> command. Ifthe command output does not display the intended configuration, repeat the instructions in thisexample to correct it.7.If you are done configuring the interfaces, enter </span><span style="font-family: Lato-Bold; font-size:10px">commit</span><span style="font-family: Lato-Regular; font-size:10px"> from configuration mode.</span><span style="font-family: Lato-Bold; font-size:12px">Verification<span style="position:absolute; border: black 1px solid; left:83px; top:37683px; width:601px; height:98px;"></span>
</span><span style="font-family: Lato-Bold; font-size:9px">IN THIS SECTION<span style="position:absolute; border: black 1px solid; left:111px; top:37729px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Verify the Passive Monitoring Configuration</span><span style="font-family: Lato-Bold; font-size:9px">  |  41<span style="position:absolute; border: black 1px solid; left:114px; top:37736px; width:0px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:111px; top:37748px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Verify Symmetric Hashing</span><span style="font-family: Lato-Bold; font-size:9px">  |  42</span><span style="font-family: Lato-Bold; font-size:10px">40<span style="position:absolute; border: gray 1px solid; left:0px; top:37940px; width:612px; height:792px;"></span>
<div style="position:absolute; top:37940px;"><a name="46">Page 46</a></div>
</span><span style="font-family: Lato-Regular; font-size:10px">Confirm that the configuration is working properly.</span><span style="font-family: Lato-Bold; font-size:10px">Verify the Passive Monitoring Configuration</span><span style="font-family: Lato-Bold; font-size:11px">Purpose</span><span style="font-family: Lato-Regular; font-size:10px">Verify that passive monitoring is working on the interfaces. If the interface output shows </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">No-receive</span><span style="font-family: Lato-Regular; font-size:10px"> and</span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">No-transmit</span><span style="font-family: Lato-Regular; font-size:10px">, this means that passive monitoring is working.</span><span style="font-family: Lato-Bold; font-size:11px">Action</span><span style="font-family: Lato-Regular; font-size:10px">From operational mode, enter the </span><span style="font-family: Lato-Bold; font-size:10px">show interfaces</span><span style="font-family: Lato-Regular; font-size:10px"> command to view the passive monitoring interfaces.<span style="position:absolute; border: black 1px solid; left:92px; top:38214px; width:438px; height:444px;"></span>
<span style="position:absolute; border: black 1px solid; left:82px; top:38214px; width:458px; height:444px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">user@host&gt; show interfaces et-0/0/2Physical interface: et-0/0/2, Enabled, Physical link is Up  Interface index: 146, SNMP ifIndex: 515  Link-level type: Ethernet, MTU: 1514, LAN-PHY mode, Speed: 40Gbps, BPDU Error: None, Loop Detect PDU Error: None, Ethernet-Switching Error: None, MAC-REWRITE Error: None,  Loopback: Disabled, Source filtering: Disabled, Flow control: Disabled, Media type: Fiber  Device flags   : Present Running  Interface flags: SNMP-Traps </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">No-receive No-transmit</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px"> Internal: 0x4000  Link flags     : None  CoS queues     : 8 supported, 8 maximum usable queues  Current address: 3c:61:04:75:3c:5d, Hardware address: 3c:61:04:75:3c:5d  Last flapped   : 2018-05-17 11:19:05 PDT (00:17:55 ago)  Input rate     : 0 bps (0 pps)  Output rate    : 0 bps (0 pps)  Active alarms  : None  Active defects : None</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:9px">  PCS statistics                      Seconds</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">    Bit errors                             0    Errored blocks                         0  Ethernet FEC Mode  :                   NONE  Ethernet FEC statistics              Errors    FEC Corrected Errors                    0    FEC Uncorrected Errors                  0    FEC Corrected Errors Rate               0    FEC Uncorrected Errors Rate             0  PRBS Statistics : Disabled  Interface transmit statistics: Disableduser@host </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">show interfaces et-0/0/4</span><span style="font-family: Lato-Bold; font-size:10px">41<span style="position:absolute; border: gray 1px solid; left:0px; top:38782px; width:612px; height:792px;"></span>
<div style="position:absolute; top:38782px;"><a name="47">Page 47</a></div>
<span style="position:absolute; border: black 1px solid; left:92px; top:38854px; width:438px; height:400px;"></span>
<span style="position:absolute; border: black 1px solid; left:82px; top:38854px; width:458px; height:400px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">Physical interface: et-0/0/4, Enabled, Physical link is Up  Interface index: 146, SNMP ifIndex: 515  Link-level type: Ethernet, MTU: 1514, LAN-PHY mode, Speed: 40Gbps, BPDU Error: None, Loop Detect PDU Error: None, Ethernet-Switching Error: None, MAC-REWRITE Error: None,  Loopback: Disabled, Source filtering: Disabled, Flow control: Disabled, Media type: Fiber  Device flags   : Present Running  Interface flags: SNMP-Traps No-receive No-transmit Internal: 0x4000  Link flags     : None  CoS queues     : 8 supported, 8 maximum usable queues  Current address: 3c:61:04:75:3c:5d, Hardware address: 3c:61:04:75:3c:5d  Last flapped   : 2018-05-17 11:19:05 PDT (00:18:17 ago)  Input rate     : 0 bps (0 pps)  Output rate    : 0 bps (0 pps)</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">  Active alarms  : None</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">  Active defects : None  PCS statistics                      Seconds    Bit errors                             0    Errored blocks                         0  Ethernet FEC Mode  :                   NONE  Ethernet FEC statistics              Errors    FEC Corrected Errors                    0    FEC Uncorrected Errors                  0    FEC Corrected Errors Rate               0    FEC Uncorrected Errors Rate             0  PRBS Statistics : Disabled  Interface transmit statistics: Disabled</span><span style="font-family: Lato-Bold; font-size:10px">Verify Symmetric Hashing</span><span style="font-family: Lato-Bold; font-size:11px">Purpose</span><span style="font-family: Lato-Regular; font-size:10px">Verify the output for symmetric hashing. The incoming port fields for </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">inet,inet6</span><span style="font-family: Lato-Regular; font-size:10px"> and </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">L2</span><span style="font-family: Lato-Regular; font-size:10px"> should all be setto No.</span><span style="font-family: Lato-Bold; font-size:11px">Action</span><span style="font-family: Lato-Regular; font-size:10px">From configuration mode, enter the </span><span style="font-family: Lato-Bold; font-size:10px">show forwarding-options enhanced-hash-key</span><span style="font-family: Lato-Regular; font-size:10px"> command.<span style="position:absolute; border: black 1px solid; left:92px; top:39441px; width:438px; height:55px;"></span>
<span style="position:absolute; border: black 1px solid; left:82px; top:39441px; width:458px; height:55px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">Slot 0</span><span style="font-family: Lato-Bold; font-size:10px">42<span style="position:absolute; border: gray 1px solid; left:0px; top:39624px; width:612px; height:792px;"></span>
<div style="position:absolute; top:39624px;"><a name="48">Page 48</a></div>
<span style="position:absolute; border: black 1px solid; left:92px; top:39696px; width:438px; height:565px;"></span>
<span style="position:absolute; border: black 1px solid; left:82px; top:39696px; width:458px; height:565px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">Seed value for Hash function           0: 3626023417Seed value for Hash function           1: 3626023417Seed value for Hash function           2: 3626023417Seed value for Hash function           3: 3626023417    Inet settings:    --------------        IPV4 dest address:    Yes        IPV4 source address:  Yes        L4 Dest Port:         Yes        L4 Source Port:       Yes    Incoming port:        No    Inet6 settings:</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">    --------------</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">        IPV6 dest address:    Yes        IPV6 source address:  Yes        L4 Dest Port:         Yes        L4 Source Port:       Yes    Incoming port:        No    L2 settings:    ------------        Dest Mac address:    No        Source Mac address:  No        Vlan Id:             Yes        Inner-vlan Id:       No        Incoming port:       No    GRE settings:    -------------        Key:                 No        Protocol:            No</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:9px">    MPLS settings:</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">    --------------    MPLS Enabled:           Yes     VXLAN settings:    ---------------        VXLAN VNID:          No</span><span style="font-family: Lato-Bold; font-size:10px">43<span style="position:absolute; border: gray 1px solid; left:0px; top:40466px; width:612px; height:792px;"></span>
<div style="position:absolute; top:40466px;"><a name="49">Page 49</a></div>
</span><span style="font-family: Lato-Bold; font-size:12px">Sample Configuration for PTX10001-36MR, PTX10004, and PTX10008 Routers</span><span style="font-family: Lato-Regular; font-size:10px">The following is a sample configuration for the PTX10001-36MR, PTX10004, and PTX10008 routerswith family mpls support.<span style="position:absolute; border: black 1px solid; left:92px; top:40609px; width:438px; height:425px;"></span>
<span style="position:absolute; border: black 1px solid; left:82px; top:40609px; width:458px; height:425px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set interfaces et-0/0/13 passive-monitor-modeset interfaces et-0/0/13 passive-monitor-modeset interfaces et-0/0/13 unit 0 family inet filter input ipv4pmFilterset interfaces et-0/0/13 unit 0 family inet6 filter input ipv6pmFilterset interfaces et-0/0/13 unit 0 family mpls filter input mplspmFilterset interfaces et-0/0/5 ether-options 802.3ad ae0set interfaces et-0/0/7 ether-options 802.3ad ae0</span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set interfaces ae0 unit 0 family inet address 192.168.1.1/24 arp 192.168.1.10 mac </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">00:00:00:11:11:11set interfaces ae0 unit 0 family inet6 address 2001:db8:1::1/64 ndp 2001:db8:1::10 mac 00:00:00:11:11:11set routing-instances pm_inst routing-options rib pm_inst.inet6.0 static route 0::0/0 next-hop 2001:db8:1::10set routing-instances pm_inst routing-options static route 0.0.0.0/0 next-hop 192.168.1.10set routing-instances pm_inst instance-type virtual-routerset routing-instances pm_inst interface ae0.0set firewall family inet filter ipv4pmFilter term t1 then count C1set firewall family inet filter ipv4pmFilter term t1 then routing-instance pm_instset firewall family inet6 filter ipv6pmFilter term t2 then count C2set firewall family inet6 filter ipv6pmFilter term t2 then routing-instance pm_instset firewall family mpls filter ipv4pmfilter term t1 then count C1set firewall family mpls filter ipv4pmfilter term t1 then routing-instance pm_instset firewall family mpls filter ipv4pmfilter term t1 from ip-version ipv4 ip-protocol-except 255set firewall family mpls filter ipv6pmfilter term t2 then count C2</span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:9px">set firewall family mpls filter ipv6pmfilter term t2 then routing-instance pm_inst</span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">set firewall family mpls filter ipv6pmfilter term t2 from ip-version ipv6 next-header-except 255</span><span style="font-family: Lato-Bold; font-size:10px">Change History Table</span><span style="font-family: Lato-Regular; font-size:10px">Feature support is determined by the platform and release you are using. Use Feature Explorer todetermine if a feature is supported on your platform.<span style="position:absolute; border: black 1px solid; left:72px; top:41090px; width:467px; height:30px;"></span>
<span style="position:absolute; border: black 1px solid; left:72px; top:41090px; width:48px; height:30px;"></span>
<span style="position:absolute; border: black 1px solid; left:121px; top:41090px; width:418px; height:30px;"></span>
ReleaseDescription</span><span style="font-family: Lato-Regular; font-size:9px">18.4R1Starting in Junos OS Release 18.4R1, passive monitoring is supported on QFX10000 switches.18.4R1Starting in Junos OS Evolved 19.4R1, passive monitoring is supported on PTX10003 routers.<span style="position:absolute; border: black 1px solid; left:121px; top:41090px; width:0px; height:30px;"></span>
<span style="position:absolute; border: black 1px solid; left:121px; top:41119px; width:0px; height:31px;"></span>
<span style="position:absolute; border: black 1px solid; left:72px; top:41150px; width:49px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:121px; top:41150px; width:418px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:121px; top:41150px; width:0px; height:31px;"></span>
<span style="position:absolute; border: black 1px solid; left:72px; top:41181px; width:49px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:121px; top:41181px; width:418px; height:0px;"></span>
</span><span style="font-family: Lato-Bold; font-size:10px">44<span style="position:absolute; border: gray 1px solid; left:0px; top:41308px; width:612px; height:792px;"></span>
<div style="position:absolute; top:41308px;"><a name="50">Page 50</a></div>
</span><span style="font-family: Lato-Bold; font-size:20px">How to Locate a Device or Port Using the ChassisBeacon<span style="position:absolute; border: black 1px solid; left:72px; top:41464px; width:612px; height:98px;"></span>
</span><span style="font-family: Lato-Bold; font-size:9px">IN THIS SECTION<span style="position:absolute; border: black 1px solid; left:89px; top:41510px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Turning On the Chassis Beacon For the Default Interval</span><span style="font-family: Lato-Bold; font-size:9px">  |  46<span style="position:absolute; border: black 1px solid; left:92px; top:41517px; width:0px; height:14px;"></span>
<span style="position:absolute; border: black 1px solid; left:89px; top:41529px; width:5px; height:5px;"></span>
</span><span style="font-family: Lato-Regular; font-size:9px">Turning On the Chassis Beacon For a Specified Interval</span><span style="font-family: Lato-Bold; font-size:9px">  |  47</span><span style="font-family: Lato-Regular; font-size:10px">By default, when a network port and its associated link are active, the status LED for that port blinksgreen at a rate of 8 blinks per second. With the chassis beacon feature, you can use the </span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:9px">request chassisbeacon</span><span style="font-family: Lato-Regular; font-size:10px"> command to slow the current rate at which the status LED blinks green to 2 blinks per second.The slower and steadier green light acts as a beacon that you, as a network administrator in a remoteoffice, can enable to guide a network installer in a busy data center or lab to a Juniper Networks deviceor port on the device.You can use the following options with the chassis beacon feature:•Turn on the beacon for:•5 minutes (default)•A specified number of minutes (1 through 120)•Turn off the beacon:•Immediately•After a specified number of minutes (1 through 120) elapsesYou can use these options on all network ports on an FPC or just one network port on an FPC.To turn the beacon on or off on a Virtual Chassis, you must:•Issue the </span><span style="font-family: InconsolataCondensed-Regular; font-size:10px">request chassis beacon</span><span style="font-family: Lato-Regular; font-size:10px"> command on the primary switch in the Virtual Chassis.•When specifying the FPC slot number, use the target Virtual Chassis member number.You can slow the rate at which the status LED blinks green to 2 blinks per second. The slower andsteadier green light acts as a beacon that guides a network installer in a busy data center or lab to aJuniper Networks device or port on the device.This topic covers the available options in the following use cases:</span><span style="font-family: Lato-Bold; font-size:10px">45<span style="position:absolute; border: gray 1px solid; left:0px; top:42150px; width:612px; height:792px;"></span>
<div style="position:absolute; top:42150px;"><a name="51">Page 51</a></div>
</span><span style="font-family: Lato-Bold; font-size:14px">Turning On the Chassis Beacon For the Default Interval<span style="position:absolute; border: black 1px solid; left:73px; top:42222px; width:0px; height:21px;"></span>
</span><span style="font-family: Lato-Regular; font-size:10px">You can turn on the chassis beacon for the default interval, which is 5 minutes.1.Turn on the chassis beacon using one of the following commands:a.For all network ports on a specified FPC:<span style="position:absolute; border: black 1px solid; left:120px; top:42335px; width:410px; height:35px;"></span>
<span style="position:absolute; border: black 1px solid; left:110px; top:42335px; width:430px; height:35px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">user@switch&gt; </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">request chassis beacon fpc slot-number on</span><span style="font-family: Lato-Regular; font-size:10px">b.For a specified network port on an FPC:<span style="position:absolute; border: black 1px solid; left:120px; top:42410px; width:410px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:110px; top:42410px; width:430px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">user@switch&gt; </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">request chassis beacon fpc slot-number pic-slot slot-number port port-number </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">on</span><span style="font-family: Lato-Regular; font-size:10px">After you turn on the chassis beacon, you can expect the following behavior:•The chassis beacon overrides the current state of the status LED for all or the specified networkport on the FPC.•If you turn on the beacon for only one network port, the status LEDs for the remaining networkports on the FPC are turned off.•Unless you issue a command to explicitly turn off the chassis beacon before the default interval isover, it turns off after 5 minutes. The state of the status LED for all ports or the specified portreturns to the state it was in before you turned on the chassis beacon.2.If you want to turn the chassis beacon off before the 5-minute interval is over, use one of thefollowing commands:a.For all network ports on a specified FPC:<span style="position:absolute; border: black 1px solid; left:120px; top:42687px; width:410px; height:35px;"></span>
<span style="position:absolute; border: black 1px solid; left:110px; top:42687px; width:430px; height:35px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">user@switch&gt; </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">request chassis beacon fpc slot-number off</span><span style="font-family: Lato-Regular; font-size:10px">b.For a specified network port on an FPC:<span style="position:absolute; border: black 1px solid; left:120px; top:42762px; width:410px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:110px; top:42762px; width:430px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">user@switch&gt; </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">request chassis beacon fpc slot-number pic-slot slot-number port port-number off</span><span style="font-family: Lato-Bold; font-size:10px">46<span style="position:absolute; border: gray 1px solid; left:0px; top:42992px; width:612px; height:792px;"></span>
<div style="position:absolute; top:42992px;"><a name="52">Page 52</a></div>
</span><span style="font-family: Lato-Bold; font-size:14px">Turning On the Chassis Beacon For a Specified Interval<span style="position:absolute; border: black 1px solid; left:73px; top:43064px; width:0px; height:21px;"></span>
</span><span style="font-family: Lato-Regular; font-size:10px">You can turn on the chassis beacon for 1 through 120 minutes.1.Turn on the chassis beacon using one of the following commands:a.For all network ports on a specified FPC:<span style="position:absolute; border: black 1px solid; left:120px; top:43177px; width:410px; height:35px;"></span>
<span style="position:absolute; border: black 1px solid; left:110px; top:43177px; width:430px; height:35px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">user@switch&gt; </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">request chassis beacon fpc slot-number on timer number-of-minutes </span><span style="font-family: Lato-Regular; font-size:10px">b.For a specified network port on an FPC:<span style="position:absolute; border: black 1px solid; left:120px; top:43252px; width:410px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:110px; top:43252px; width:430px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">user@switch&gt; </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">request chassis beacon fpc slot-number pic-slot slot-number port port-number </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">on timer number-of-minutes</span><span style="font-family: Lato-Regular; font-size:10px">After you turn on the chassis beacon, you can expect the following behavior:•The chassis beacon overrides the current state of the status LEDs for all or one network port onthe FPC.•If you turn on the chassis beacon for only one network port, the status LEDs for the remainingnetwork ports on the FPC are turned off.•The chassis beacon stays on until you explicitly issue a command to turn it off.2.You can turn off the chassis beacon immediately or after a specified time interval (1 through 120minutes) is over.a.To turn off the chassis beacon immediately, use one of the following commands:For all network ports on a specified FPC:<span style="position:absolute; border: black 1px solid; left:120px; top:43517px; width:410px; height:35px;"></span>
<span style="position:absolute; border: black 1px solid; left:110px; top:43517px; width:430px; height:35px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">user@switch&gt; </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">request chassis beacon fpc slot-number off</span><span style="font-family: Lato-Regular; font-size:10px">ORFor a specified network port on an FPC:<span style="position:absolute; border: black 1px solid; left:120px; top:43612px; width:410px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:110px; top:43612px; width:430px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">user@switch&gt; </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">request chassis beacon fpc slot-number pic-slot slot-number port port-number off</span><span style="font-family: Lato-Regular; font-size:10px">b.To turn off the chassis beacon after a specified time interval of 1 through 120 minutes is over, useone of the following commands:</span><span style="font-family: Lato-Bold; font-size:10px">47<span style="position:absolute; border: gray 1px solid; left:0px; top:43834px; width:612px; height:792px;"></span>
<div style="position:absolute; top:43834px;"><a name="53">Page 53</a></div>
</span><span style="font-family: Lato-Regular; font-size:10px">For all network ports on a specified FPC:<span style="position:absolute; border: black 1px solid; left:120px; top:43936px; width:410px; height:35px;"></span>
<span style="position:absolute; border: black 1px solid; left:110px; top:43936px; width:430px; height:35px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">user@switch&gt; </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">request chassis beacon fpc slot-number off timer number-of-minutes</span><span style="font-family: Lato-Regular; font-size:10px">ORFor a specified network port on an FPC:<span style="position:absolute; border: black 1px solid; left:120px; top:44031px; width:410px; height:50px;"></span>
<span style="position:absolute; border: black 1px solid; left:110px; top:44031px; width:430px; height:50px;"></span>
</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px">user@switch&gt; </span><span style="font-family: InconsolataSemiCondensed-Bold; font-size:10px">request chassis beacon fpc slot-number pic-slot slot-number port port-number off timer number-of-minutes</span><span style="font-family: InconsolataSemiCondensed-Regular; font-size:10px"> </span><span style="font-family: Lato-Regular; font-size:10px">After you turn off the chassis beacon, the state of the status LED for all or one port on the FPCreturns to the state it was in before you turned on the chassis beacon.</span><span style="font-family: Lato-Bold; font-size:10px">48<span style="position:absolute; border: gray 1px solid; left:0px; top:44676px; width:612px; height:792px;"></span>
<div style="position:absolute; top:44676px;"><a name="54">Page 54</a></div>
</span><span style="font-family: Lato-Regular; font-size:110px">2</span><span style="font-family: Lato-Bold; font-size:10px">CHAPTER</span><span style="font-family: Lato-Light; font-size:22px">Configuration Statements andOperational Commands<span style="position:absolute; border: black 1px solid; left:125px; top:45025px; width:361px; height:0px;"></span>
</span><span style="font-family: Lato-Regular; font-size:10px">Junos CLI Reference Overview  |  50<span style="position:absolute; border: black 1px solid; left:125px; top:45086px; width:361px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:5px; top:44678px; width:601px; height:0px;"></span>
<span style="position:absolute; border: black 1px solid; left:609px; top:44676px; width:0px; height:768px;"></span>
<span style="position:absolute; border: black 1px solid; left:2px; top:44676px; width:0px; height:768px;"></span>
<span style="position:absolute; border: black 1px solid; left:609px; top:45444px; width:0px; height:23px;"></span>
<span style="position:absolute; border: black 1px solid; left:2px; top:45444px; width:0px; height:23px;"></span>
 <span style="position:absolute; border: black 1px solid; left:0px; top:45464px; width:612px; height:0px;"></span>
<span style="position:absolute; border: gray 1px solid; left:0px; top:45518px; width:612px; height:792px;"></span>
<div style="position:absolute; top:45518px;"><a name="55">Page 55</a></div>
</span><span style="font-family: Lato-Bold; font-size:20px">Junos CLI Reference Overview</span><span style="font-family: Lato-Regular; font-size:10px">We&#x27;ve consolidated all Junos CLI commands and configuration statements in one place. Learn about thesyntax and options that make up the statements and commands and understand the contexts in whichyou’ll use these CLI elements in your network configurations and operations.•Junos CLI ReferenceClick the links to access Junos OS and Junos OS Evolved configuration statement and commandsummary topics.•Configuration Statements•Operational Commands</span><span style="font-family: Lato-Bold; font-size:10px">50<div style="position:absolute; top:0px;">Page: <a href="#1">1</a>, <a href="#2">2</a>, <a href="#3">3</a>, <a href="#4">4</a>, <a href="#5">5</a>, <a href="#6">6</a>, <a href="#7">7</a>, <a href="#8">8</a>, <a href="#9">9</a>, <a href="#10">10</a>, <a href="#11">11</a>, <a href="#12">12</a>, <a href="#13">13</a>, <a href="#14">14</a>, <a href="#15">15</a>, <a href="#16">16</a>, <a href="#17">17</a>, <a href="#18">18</a>, <a href="#19">19</a>, <a href="#20">20</a>, <a href="#21">21</a>, <a href="#22">22</a>, <a href="#23">23</a>, <a href="#24">24</a>, <a href="#25">25</a>, <a href="#26">26</a>, <a href="#27">27</a>, <a href="#28">28</a>, <a href="#29">29</a>, <a href="#30">30</a>, <a href="#31">31</a>, <a href="#32">32</a>, <a href="#33">33</a>, <a href="#34">34</a>, <a href="#35">35</a>, <a href="#36">36</a>, <a href="#37">37</a>, <a href="#38">38</a>, <a href="#39">39</a>, <a href="#40">40</a>, <a href="#41">41</a>, <a href="#42">42</a>, <a href="#43">43</a>, <a href="#44">44</a>, <a href="#45">45</a>, <a href="#46">46</a>, <a href="#47">47</a>, <a href="#48">48</a>, <a href="#49">49</a>, <a href="#50">50</a>, <a href="#51">51</a>, <a href="#52">52</a>, <a href="#53">53</a>, <a href="#54">54</a>, <a href="#55">55</a></div>
</body></html>
